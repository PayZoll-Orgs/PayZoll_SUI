(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1401],{7146:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ew});var r=a(95155),s=a(12115),l=a(21934),o=a(94860),n=a(31530),d=a(92897),i=a(69882),c=a(14891),m=a(37030),x=a(60812),g=a(6874),h=a.n(g),p=a(57340),u=a(10671),b=a(60760),y=a(25273),f=a(34835),k=a(54416),w=a(74783),v=a(40646),j=a(14186),C=a(54861),N=a(91788),A=a(47924),M=a(33786),S=a(17580),E=a(47863),F=a(66474),P=a(46258),T=a(21988);let _=e=>{let{status:t}=e;return"completed"===t?(0,r.jsx)(v.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400"}):"pending"===t?(0,r.jsx)(j.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-400"}):(0,r.jsx)(C.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-400"})},U=e=>!e||e.length<10?e:"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)),L=e=>{let{isOpen:t,onClose:a}=e,[l,n]=(0,s.useState)(""),[d,i]=(0,s.useState)([]),[c,m]=(0,s.useState)(!0),[x,g]=(0,s.useState)(null),[h,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{t&&(async()=>{try{m(!0);let e=await o.U.getPayrollHistory();if("success"===e.status){let t=[...e.data||[]].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());i(t)}else g("Failed to load transaction history")}catch(e){console.error("Error fetching payroll history:",e),g("Error loading transactions")}finally{m(!1)}})()},[t]);let y=e=>{try{let t=new Date(e);return(0,P.A)(t,{addSuffix:!0})}catch(e){return"Unknown date"}},f=e=>{p(t=>t===e?null:e)},k=(e,t)=>{var a,r;let s=T.Y6.find(t=>t.name.toLowerCase()===e.toLowerCase());if(null==s||null==(r=s.blockExplorers)||null==(a=r.default)?void 0:a.url)return"".concat(s.blockExplorers.default.url,"/tx/").concat(t);let l={Ethereum:"https://etherscan.io/tx/",Base:"https://basescan.org/tx/",Arbitrum:"https://arbiscan.io/tx/"}[e];return l?"".concat(l).concat(t):"#"},w=d.filter(e=>e.transactionHash.toLowerCase().includes(l.toLowerCase())||e.totalAmount.toLowerCase().includes(l.toLowerCase())||e.chain.toLowerCase().includes(l.toLowerCase())||e.tokenSymbol.toLowerCase().includes(l.toLowerCase())||e.company.toLowerCase().includes(l.toLowerCase()));return(0,r.jsx)(b.N,{children:t&&(0,r.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/75 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",onClick:a,children:(0,r.jsxs)(u.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:to-black/95 w-[90%] md:w-[80%] lg:w-[60%] max-h-[85vh] rounded-2xl border border-gray-200 dark:border-[#a5b4fc]/20 overflow-hidden shadow-2xl shadow-black/60 backdrop-blur-xl",children:[(0,r.jsxs)("div",{className:"p-4 sm:p-5 border-b border-gray-200 dark:border-[#a5b4fc]/10 flex justify-between items-center sticky top-0 bg-white/80 dark:bg-gradient-to-br dark:from-gray-900/90 dark:to-black/95 z-10 backdrop-blur-sm",children:[(0,r.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-black dark:text-white",style:{textShadow:"dark:0 0 5px rgba(59, 130, 246, 0.4), dark:0 0 10px rgba(96, 165, 250, 0.2)"},children:"Transaction Log"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{onClick:()=>{if(0===d.length)return;let e="Company,Transaction Hash,Total Amount,Token,Chain,Timestamp\n";d.forEach(t=>{e+='"'.concat(t.company,'","').concat(t.transactionHash,'","').concat(t.totalAmount,'","').concat(t.tokenSymbol,'","').concat(t.chain,'","').concat(new Date(t.createdAt).toLocaleString(),'"\n')});let t=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",a),r.setAttribute("download","payroll-transactions-".concat(new Date().toISOString().slice(0,10),".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"bg-gray-100 dark:bg-gray-900 backdrop-blur-sm text-black dark:text-white px-2 sm:px-3 py-1 sm:py-2 rounded-xl flex items-center space-x-1 sm:space-x-2 shadow-md hover:bg-gray-200 dark:hover:bg-gray-900 transition-all border border-gray-300 dark:border-[#a5b4fc]/20 text-xs sm:text-sm","aria-label":"Export transactions",disabled:0===d.length,children:[(0,r.jsx)(N.A,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("span",{className:"font-bold",children:"Export"})]}),(0,r.jsx)("button",{onClick:a,className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors p-1","aria-label":"Close modal",children:(0,r.jsx)(C.A,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{className:"p-4 sm:p-5 overflow-y-auto max-h-[calc(85vh-80px)]",children:[(0,r.jsxs)("div",{className:"relative mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search transactions...",value:l,onChange:e=>n(e.target.value),className:"w-full bg-gray-100 dark:bg-gray-900/80 backdrop-blur-sm border border-gray-300 dark:border-[#a5b4fc]/20 text-black dark:text-white rounded-xl py-1 sm:py-2 pl-8 sm:pl-10 pr-3 sm:pr-4 focus:outline-none focus:ring-2 focus:ring-blue-500/50 dark:focus:ring-[#60a5fa]/50 transition-all text-xs sm:text-sm placeholder-gray-500 dark:placeholder-gray-500"}),(0,r.jsx)(A.A,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-blue-600/60 dark:text-[#93c5fd]/60"})]}),(0,r.jsx)("div",{className:"space-y-2 sm:space-y-3 md:space-y-4",children:c?(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsxs)("div",{className:"animate-pulse flex space-x-2",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"}),(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"}),(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"})]})}):x?(0,r.jsx)("p",{className:"text-center text-red-600 dark:text-red-400 py-8",children:x}):w.length>0?w.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsxs)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-2 sm:p-3 md:p-4 rounded-xl border\n                                    ".concat(h===e._id?"border-blue-500/50 dark:border-[#60a5fa]/50 bg-blue-50/50 dark:bg-[#3b82f6]/5":"border-gray-200 dark:border-[#a5b4fc]/20 bg-white/80 dark:bg-gray-900/80","\n                                    backdrop-blur-sm hover:border-blue-500/30 dark:hover:border-[#60a5fa]/30 transition-all cursor-pointer"),onClick:()=>f(e._id),children:[(0,r.jsxs)("div",{className:"mb-2 sm:mb-0 flex-grow",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-black dark:text-white",children:U(e.transactionHash)}),(0,r.jsx)("a",{href:k(e.chain,e.transactionHash),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-[#93c5fd] hover:text-blue-700 dark:hover:text-[#60a5fa]","aria-label":"View on explorer",onClick:e=>e.stopPropagation(),children:(0,r.jsx)(M.A,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Amount:"})," ",e.totalAmount," USD (",e.tokenSymbol,")"]}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Chain:"})," ",e.chain]}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Employees:"})," ",e.employees.length]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 self-end sm:self-auto mt-2 sm:mt-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1 mr-2",children:[(0,r.jsx)(S.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600/80 dark:text-[#93c5fd]/80"}),h===e._id?(0,r.jsx)(E.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 dark:text-[#93c5fd]"}):(0,r.jsx)(F.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 dark:text-[#93c5fd]"})]}),(0,r.jsx)(_,{status:"completed"})," ",(0,r.jsx)("span",{className:"px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-semibold bg-green-100 dark:bg-green-400/40 text-green-700 dark:text-green-500",children:y(e.createdAt)})]})]}),(0,r.jsx)(b.N,{children:h===e._id&&(0,r.jsx)(u.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-1 mb-3 overflow-hidden",children:(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/90 border border-gray-200 dark:border-[#a5b4fc]/20 rounded-xl p-3 md:p-4 backdrop-blur-sm",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold text-blue-600 dark:text-[#93c5fd] mb-2 flex items-center gap-2",children:[(0,r.jsx)(S.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Employee Payment Details"]}),(0,r.jsx)("div",{className:"max-h-48 overflow-y-auto pr-2 scrollbar-hide",children:e.employees.map((e,t)=>(0,r.jsxs)("div",{className:"py-2 flex flex-col xs:flex-row justify-between border-b border-gray-200 dark:border-[#a5b4fc]/10 last:border-0",children:[(0,r.jsx)("div",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 break-all",children:e.wallet}),(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-blue-700 dark:text-[#93c5fd] mt-1 xs:mt-0",children:[e.amount," USD"]})]},t))})]})})})]},e._id)):(0,r.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 text-xs sm:text-sm py-6",children:"No transactions found."})}),(0,r.jsxs)("div",{className:"mt-4 sm:mt-5 pt-3 sm:pt-4 border-t border-gray-200 dark:border-[#a5b4fc]/10 flex flex-col xs:flex-row items-start xs:items-center justify-between text-xs sm:text-sm gap-2 xs:gap-0",children:[(0,r.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["Showing ",w.length," transaction",1!==w.length?"s":""]}),d.length>w.length&&(0,r.jsx)("button",{onClick:()=>n(""),className:"text-blue-600 dark:text-[#93c5fd] hover:text-blue-700 dark:hover:text-[#60a5fa] transition-colors",children:"View All Transactions"})]})]})]})})})};var D=a(12318),B=a(29869),z=a(94870);let R=e=>{let{onAddEmployee:t,onBulkUpload:a}=e,[l,o]=(0,s.useState)(!1),n=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{n.current&&!n.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let d=[{title:"Add Employee",description:"Add a new team member",icon:D.A,onClick:()=>{t(),o(!1)}},{title:"Bulk Upload",description:"Import multiple employees",icon:B.A,onClick:()=>{a(),o(!1)}}];return(0,r.jsxs)("div",{className:"relative",ref:n,children:[(0,r.jsxs)(u.P.button,{onClick:()=>o(!l),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 backdrop-blur-md\n                  bg-gray-200/30 dark:bg-white/10 border border-gray-300/50 dark:border-white/20\n                  shadow-md hover:shadow-lg transition-all duration-300\n                  hover:bg-gray-300/40 dark:hover:bg-gradient-to-r dark:hover:from-gray-600/30 dark:hover:to-gray-700/30\n                  hover:border-gray-400/60 dark:hover:border-white/30\n                  rounded-lg px-3 py-2 lg:px-4 lg:py-2.5 focus:outline-none /* Adjusted padding */\n                  ".concat(l?"bg-gray-300/40 dark:bg-white/15 border-gray-400/60 dark:border-white/30":""),children:[(0,r.jsx)(y.A,{className:"w-4 h-4 lg:w-5 lg:w-5 text-black dark:text-white"})," ",(0,r.jsx)("span",{className:"font-medium text-xs lg:text-sm text-black dark:text-white whitespace-nowrap",children:"Quick Actions"}),l?(0,r.jsx)(k.A,{className:"w-4 h-4 text-black dark:text-white"}):(0,r.jsx)(F.A,{className:"w-4 h-4 text-black dark:text-white transition-transform ".concat(l?"rotate-180":"")})]}),(0,r.jsx)(b.N,{children:l&&(0,r.jsx)(u.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 z-50 w-64 sm:w-72 md:w-80",children:(0,r.jsxs)("div",{className:"rounded-xl p-4 sm:p-5 overflow-hidden /* Responsive padding */ bg-gradient-to-br from-gray-100/80 to-gray-200/90 dark:from-white/8 dark:to-white/3 backdrop-blur-lg border border-gray-300/50 dark:border-white/10 shadow-xl shadow-black/20 dark:shadow-black/40",children:[(0,r.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,r.jsx)("h2",{className:"text-base sm:text-lg font-bold text-black dark:text-white",children:"Quick Actions"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-white/70 text-xs sm:text-sm mt-1",children:"Manage your workforce"})," "]}),(0,r.jsx)("div",{className:"space-y-2 sm:space-y-3",children:d.map((e,t)=>(0,r.jsxs)(u.P.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},onClick:e.onClick,whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full group rounded-lg sm:rounded-xl p-2.5 sm:p-3 flex items-start gap-2.5 sm:gap-3 transition-all /* Responsive padding and gap */ duration-300 bg-gradient-to-br from-gray-50/50 to-gray-100/70 dark:from-white/5 dark:to-white/2 border border-gray-200/60 dark:border-white/10 shadow-sm hover:shadow-md /* Adjusted shadow */ hover:bg-gradient-to-br hover:from-gray-100/60 hover:to-gray-200/80 dark:hover:from-white/10 dark:hover:to-white/5",children:[(0,r.jsxs)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-md sm:rounded-lg flex-shrink-0 flex items-center justify-center transform transition-all group-hover:scale-110 bg-gradient-to-br from-gray-200/50 to-gray-300/40 dark:from-white/10 dark:to-white/5 border border-gray-300/40 dark:border-white/10",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-black dark:text-white"})," "]}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[" ",(0,r.jsxs)("div",{className:"flex justify-between items-start mb-0.5 sm:mb-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-black dark:text-white group-hover:text-gray-800 dark:group-hover:text-white/90 transition-colors",children:e.title}),(0,r.jsx)(z.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-gray-500 dark:text-white/60 group-hover:text-gray-700 dark:group-hover:text-white/80 transition-colors mt-0.5"})," "]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 group-hover:text-gray-700 dark:group-hover:text-white/80 transition-colors",children:e.description})]})]},t))}),(0,r.jsx)("div",{className:"mt-3 sm:mt-4 pt-2 sm:pt-3 border-t border-gray-300/50 dark:border-white/10",children:(0,r.jsx)(u.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>o(!1),className:"text-xs text-gray-700 dark:text-white/80 hover:text-black dark:hover:text-white transition-colors w-full text-center py-1",children:"Close"})})]})})})]})};var I=a(35196),O=a(35372);let H=e=>{let{onAddEmployee:t,onBulkUpload:a,selectedToken:l,onTokenChange:o}=e,[n,d]=(0,s.useState)(!1),{user:i,logout:c}=(0,I.A)(),[m,x]=(0,s.useState)(!1),[g,h]=(0,s.useState)(!1),p=(0,s.useRef)(null),v=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{p.current&&!p.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let j=e=>{e(),h(!1)};return(0,r.jsxs)("div",{className:"mb-6 sm:mb-8 px-4 md:px-6 lg:px-8 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0 relative",children:[(0,r.jsxs)("div",{className:"w-full md:w-auto",children:[(0,r.jsx)("h1",{className:"text-lg sm:text-2xl md:text-3xl lg:text font-bold text-black dark:text-white",children:(null==i?void 0:i.company)||"PayZoll Dashboard"}),(0,r.jsx)("p",{className:"text-sm hidden sm:block sm:text-base md:text-lg text-gray-600 dark:text-gray-300 mt-1",children:"Add, Edit, Control and Process Payroll"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-3 lg:space-x-4",children:[(0,r.jsx)(O.g,{selectedToken:l,onTokenChange:o}),(0,r.jsx)(R,{onAddEmployee:t,onBulkUpload:a}),(0,r.jsxs)(u.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(!0),className:"relative py-2 px-3 lg:py-2.5 lg:px-4 rounded-lg backdrop-blur-md bg-gray-200/30 dark:bg-white/10 border border-gray-300/50 dark:border-white/20 shadow-md hover:shadow-lg transition-all duration-300 hover:bg-gray-300/40 dark:hover:bg-gradient-to-r dark:hover:from-gray-600/30 dark:hover:to-gray-700/30 hover:border-gray-400/60 dark:hover:border-white/30 flex items-center justify-center gap-2",title:"Transaction Logs",children:[(0,r.jsx)(y.A,{className:"h-4 w-4 lg:h-5 lg:w-5 text-black dark:text-white"}),(0,r.jsx)("span",{className:"hidden lg:inline font-medium text-sm whitespace-nowrap text-black dark:text-white",children:"Logs"})]}),(0,r.jsxs)(u.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(!0),className:"relative text-white py-2 px-3 lg:py-2.5 lg:px-4 rounded-lg backdrop-blur-md bg-blue-500 border border-blue-400 shadow-md hover:shadow-lg transition-all duration-300 hover:bg-gradient-to-r hover:from-indigo-400 hover:to-indigo-600 hover:border-indigo-500 flex items-center justify-center gap-2",title:"Logout",children:[(0,r.jsx)(f.A,{className:"h-4 w-4 lg:h-5 lg:w-5"}),(0,r.jsx)("span",{className:"hidden lg:inline font-medium text-sm whitespace-nowrap",children:"Logout"})]})]}),(0,r.jsx)("div",{className:"md:hidden absolute top-0 right-0 mt-1 mr-1",children:(0,r.jsx)(u.P.button,{ref:v,whileTap:{scale:.95},onClick:()=>h(!g),className:"p-2 rounded-lg bg-gray-200/50 dark:bg-white/10 border border-gray-300/50 dark:border-white/20 text-black dark:text-white","aria-label":"Toggle menu",children:g?(0,r.jsx)(k.A,{className:"h-5 w-5"}):(0,r.jsx)(w.A,{className:"h-5 w-5"})})})]}),(0,r.jsx)(b.N,{children:g&&(0,r.jsx)(u.P.div,{ref:p,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"md:hidden absolute top-16 right-4 z-40 mt-2 w-64 origin-top-right rounded-xl bg-white dark:bg-black shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-white/10 focus:outline-none backdrop-blur-lg border border-gray-200 dark:border-gray-700/50",children:(0,r.jsxs)("div",{className:"py-2 px-2 space-y-1",children:[(0,r.jsxs)("button",{onClick:()=>j(t),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800/60 flex items-center gap-3 transition-colors",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Employee"]}),(0,r.jsxs)("button",{onClick:()=>j(a),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800/60 flex items-center gap-3 transition-colors",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Bulk Upload"]}),(0,r.jsx)("hr",{className:"border-gray-200 dark:border-gray-700/50 my-1"}),(0,r.jsxs)("button",{onClick:()=>j(()=>d(!0)),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800/60 flex items-center gap-3 transition-colors",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),"Transaction Logs"]}),(0,r.jsx)("hr",{className:"border-gray-200 dark:border-gray-700/50 my-1"}),(0,r.jsxs)("button",{onClick:()=>j(()=>x(!0)),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-3 transition-colors",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),"Logout"]})]})})}),(0,r.jsx)(L,{isOpen:n,onClose:()=>d(!1)}),(0,r.jsx)(b.N,{children:m&&(0,r.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 dark:bg-black/80 backdrop-blur-sm p-4",onClick:()=>x(!1),children:(0,r.jsxs)(u.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700/50 rounded-xl p-5 sm:p-6 w-full max-w-sm shadow-xl",children:[(0,r.jsx)("h3",{className:"text-black dark:text-white text-lg font-semibold mb-2",children:"Confirm Logout"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-5 text-sm",children:"Are you sure you want to logout?"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsx)("button",{onClick:()=>x(!1),className:"w-full sm:w-auto flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-700 text-black dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm font-medium",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{c(),x(!1)},className:"w-full sm:w-auto flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm font-medium",children:"Logout"})]})]})})})]})};var W=a(85213),J=a(95488),V=a(21492),G=a(44020),q=a(92657),Q=a(13717),X=a(62525),Y=a(42355),Z=a(13052),$=a(55868),K=a(85339),ee=a(17576),et=a(39785),ea=a(90437),er=a(24357),es=a(69074),el=a(94631);let eo=e=>{let{isOpen:t,onClose:a,employee:o}=e,[n,d]=(0,s.useState)(!1),[i,c]=(0,s.useState)([]),[m,x]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{t&&o&&o.wallet&&p(o.wallet)},[t,o]);let p=async e=>{try{x(!0),h(null);let t=await l.U.getEmployeePayroll(e);if("success"===t.status&&t.data){let e=t.data.map(e=>({id:e.id,amount:e.amount,date:y(e.date),status:"completed"}));c(e)}else c([]),h("No payment history found")}catch(e){console.error("Error fetching payment history:",e),h("Failed to load payment history"),c([])}finally{x(!1)}},y=e=>{try{let t=new Date(e);return(0,P.A)(t,{addSuffix:!0})}catch(e){return"Unknown date"}};if(!t||!o)return null;let f={completed:"text-green-500 bg-green-400/10",pending:"text-amber-500 bg-amber-400/10",failed:"text-red-500 bg-red-400/10"},w=e=>{let{status:t}=e;return"completed"===t?(0,r.jsx)(v.A,{className:"w-4 h-4 text-green-700  dark:text-green-400"}):"pending"===t?(0,r.jsx)(j.A,{className:"w-4 h-4 text-amber-400"}):(0,r.jsx)(K.A,{className:"w-4 h-4 text-red-400"})},C=e=>e.length<=12?e:"".concat(e.slice(0,6),"...").concat(e.slice(-6)),N=async()=>{try{await navigator.clipboard.writeText(o.wallet),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}},A={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},exit:{y:-20,opacity:0,transition:{duration:.2}}},M={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}}};return(0,r.jsx)(b.N,{children:(0,r.jsx)(u.P.div,{className:"fixed inset-0 bg-black/50 dark:bg-black/80 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:a,initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2,when:"afterChildren",staggerChildren:.05,staggerDirection:-1}}},children:(0,r.jsxs)(u.P.div,{className:"bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:to-black/95 w-full max-w-3xl rounded-2xl border border-gray-200 dark:border-[#a5b4fc]/20 overflow-hidden shadow-2xl shadow-black/60 backdrop-blur-xl",onClick:e=>e.stopPropagation(),variants:A,children:[(0,r.jsxs)(u.P.div,{className:"p-6 border-b border-gray-200 dark:border-[#a5b4fc]/10 flex items-center justify-between",variants:A,children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-black dark:text-[#F2F2F2]",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.5), 0 0 10px rgba(96, 165, 250, 0.3)"},children:"Employee Profile"}),(0,r.jsx)("button",{onClick:a,className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",children:(0,r.jsx)(k.A,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-8",children:[(0,r.jsxs)(u.P.div,{className:"bg-gray-50 dark:bg-gray-900/80 rounded-xl p-6 border border-gray-200 dark:border-[#a5b4fc]/20 backdrop-blur-sm",variants:A,children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#3b82f6]/20 dark:to-[#60a5fa]/10 flex items-center justify-center border border-blue-200 dark:border-[#60a5fa]/20",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-700 dark:text-[#93c5fd]",children:o.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-black dark:text-[#F2F2F2] mb-1",children:o.name}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,r.jsx)(ee.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("span",{children:o.designation})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-[#3b82f6]/10 px-4 py-3 rounded-xl text-center border border-blue-100 dark:border-[#3b82f6]/20",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center text-blue-700 dark:text-[#93c5fd] mb-1",children:[(0,r.jsx)($.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-bold text-lg",children:o.salary})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monthly Salary"})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-[#a5b4fc]/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,r.jsx)(et.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("span",{children:"Wallet Address"})]}),(0,r.jsx)("button",{onClick:N,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors flex items-center gap-2","aria-label":"Copy wallet address",children:n?(0,r.jsxs)("span",{className:"flex items-center text-green-700 dark:text-green-400",children:[(0,r.jsx)(ea.A,{className:"w-4 h-4 mr-1"})," Copied!"]}):(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(er.A,{className:"w-4 h-4 mr-1"})," Copy"]})})]}),(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-900/90 p-3 rounded-lg border border-gray-200 dark:border-[#a5b4fc]/20",children:(0,r.jsx)("p",{className:"text-sm text-black dark:text-gray-300 break-all",children:o.wallet})})]})]}),(0,r.jsxs)(u.P.div,{variants:A,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(es.A,{className:"w-5 h-5 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-black dark:text-[#F2F2F2]",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.3), 0 0 10px rgba(96, 165, 250, 0.2)"},children:"Payment History"})]}),(0,r.jsx)("div",{className:"space-y-3 overflow-y-auto max-h-80 scrollbar-hide",children:m?(0,r.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,r.jsx)(el.A,{className:"w-8 h-8 text-blue-600 dark:text-[#93c5fd] animate-spin"})}):g?(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 text-center text-gray-500 dark:text-gray-400 backdrop-blur-sm",children:[(0,r.jsx)(K.A,{className:"w-6 h-6 text-gray-400 dark:text-[#93c5fd]/50 mx-auto mb-2"}),(0,r.jsx)("p",{children:g})]}):0===i.length?(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 text-center text-gray-500 dark:text-gray-400 backdrop-blur-sm",children:[(0,r.jsx)(es.A,{className:"w-6 h-6 text-gray-400 dark:text-[#93c5fd]/50 mx-auto mb-2"}),(0,r.jsx)("p",{children:"No payment history available"})]}):i.map(e=>(0,r.jsxs)(u.P.div,{className:"bg-white dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 hover:border-gray-300 dark:hover:border-[#60a5fa]/30 backdrop-blur-sm",variants:M,whileHover:"hover",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(w,{status:e.status}),(0,r.jsxs)("span",{className:"font-medium text-black dark:text-[#F2F2F2]",children:["$",e.amount]})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.date})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,r.jsx)("span",{className:"text-xs px-3 py-1 rounded-full ".concat(f[e.status]),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:["TX: ",C(e.id)]})]})]},e.id))})]})]}),(0,r.jsx)(u.P.div,{className:"p-6 border-t border-gray-200 dark:border-[#a5b4fc]/10 flex justify-end bg-gray-50/50 dark:bg-transparent",variants:A,children:(0,r.jsx)("button",{onClick:a,className:"px-6 py-2 rounded-xl bg-white dark:bg-gray-900/80 hover:bg-gray-100 dark:hover:bg-gray-900 text-black dark:text-white transition-colors border border-gray-300 dark:border-[#a5b4fc]/20 hover:border-gray-400 dark:hover:border-[#60a5fa]/30 backdrop-blur-sm",children:"Close"})})]})})})};var en=a(25495),ed=a(91659);let ei=[{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"designation",label:"Designation"},{key:"salary",label:"Salary"},{key:"wallet",label:"Wallet"},{key:"company",label:"Company"}],ec=e=>{var t;let{employees:a=[],selectedEmployees:l,toggleEmployeeSelection:o,usdToToken:n,isLoading:d,deleteEmployeeById:i,onEditEmployee:c,exchangeRate:m,handleTransaction:x,selectedToken:g}=e,[h,p]=(0,s.useState)(""),[b,y]=(0,s.useState)({key:"name",direction:"asc"}),[f,w]=(0,s.useState)(1),v="amount_".concat(g.symbol),j={key:v,label:"Amount (".concat(g.symbol,")")},C=(0,s.useMemo)(()=>[...ei,j,{key:"actions",label:"Actions"}],[g.symbol]),[M,S]=(0,s.useState)(()=>new Set(["name","designation","salary",v,"wallet","actions"]));(0,s.useEffect)(()=>{S(e=>{let t=new Set(e);for(e.forEach(e=>{"string"==typeof e&&e.startsWith("amount_")&&e!==v&&t.delete(e)}),!t.has(v)&&t.has("salary")&&t.add(v);t.size<3&&C.length>=3;){let e=C.find(e=>!t.has(e.key));if(e)t.add(e.key);else break}return t})},[v,C]);let[E,F]=(0,s.useState)(!1),P=(0,s.useRef)(null),[T,_]=(0,s.useState)(""),[U,L]=(0,s.useState)(null),[D,B]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=e=>{let t=e.target;if(P.current&&!P.current.contains(t)){let e=document.getElementById("columns-button");e&&e.contains(t)||F(!1)}};return E?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[E]);let z=(0,s.useMemo)(()=>a?a.filter(e=>Object.entries(e).some(e=>{let[t,a]=e;return("string"==typeof a||"number"==typeof a)&&a.toString().toLowerCase().includes(h.toLowerCase())})):[],[a,h]),R=(0,s.useMemo)(()=>b.key?[...z].sort((e,t)=>{let a=e[b.key],r=t[b.key];if("salary"===b.key){let e=parseFloat(String(a).replace(/[^0-9.-]+/g,""))||0,t=parseFloat(String(r).replace(/[^0-9.-]+/g,""))||0;return"asc"===b.direction?e-t:t-e}let s=String(null!=a?a:"").toLowerCase(),l=String(null!=r?r:"").toLowerCase();return"asc"===b.direction?s.localeCompare(l):l.localeCompare(s)}):z,[z,b]),I=Math.ceil(R.length/10),O=(0,s.useMemo)(()=>R.slice((f-1)*10,10*f),[R,f]);(0,s.useEffect)(()=>{w(1)},[h,b]);let H=e=>{y({key:e.target.value,direction:"asc"})},K=()=>{b.key&&y(e=>({...e,direction:"asc"===e.direction?"desc":"asc"}))},ee=e=>{S(t=>{let a=new Set(t);return a.has(e)?a.size>3?a.delete(e):console.warn("Cannot hide more columns."):a.add(e),a})},et=(0,s.useMemo)(()=>0!==O.length&&O.every(e=>l.includes(e.wallet)),[O,l]),ea=(0,s.useMemo)(()=>{let e=O.filter(e=>l.includes(e.wallet)).length;return e>0&&e<O.length},[O,l]),er=e=>{L(e),B(!0)},es=a.filter(e=>l.includes(e.wallet)).reduce((e,t)=>e+parseFloat(t.salary||"0"),0),el=n(es.toString()),ec=()=>{if(0===l.length){_("Please select at least one employee to export"),setTimeout(()=>_(""),3e3);return}let e=a.filter(e=>l.includes(e.wallet)),t=["Name","Designation","Wallet Address","Salary (USD)","Amount (".concat(g.symbol,")")],r=e.map(e=>[e.name,e.designation,e.wallet,parseFloat(e.salary||"0").toFixed(2),n(e.salary||"0")]),s=new Blob([[t.join(","),...r.map(e=>e.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(s),d=document.createElement("a"),i=new Date().toISOString().split("T")[0];d.setAttribute("href",o),d.setAttribute("download","employee-payroll-".concat(i,".csv")),d.style.display="none",document.body.appendChild(d),d.click(),document.body.removeChild(d),_("Exported ".concat(l.length," employee").concat(1!==l.length?"s":"")),setTimeout(()=>_(""),3e3)};return(0,r.jsxs)("div",{className:"w-[90vw] xl:w-[75vw] h-full bg-transparent dark:text-white text-black shadow-sm rounded-lg overflow-hidden ",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-300 dark:border-gray-700 bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center",children:[(0,r.jsxs)("div",{className:"relative w-full lg:w-auto lg:flex-grow max-w-md",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search employees...",value:h,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 pl-10 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),(0,r.jsx)(A.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"})]}),(0,r.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{id:"sort-select-desktop",value:null!=(t=b.key)?t:"",onChange:H,className:"px-3 py-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Sort by column",children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),ei.map(e=>(0,r.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,r.jsx)("button",{onClick:K,disabled:!b.key,className:"p-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Sort direction: ".concat(b.direction),title:"Sort ".concat("asc"===b.direction?"Descending":"Ascending"),children:"asc"===b.direction?(0,r.jsx)(W.A,{className:"h-4 w-4"}):(0,r.jsx)(J.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{id:"columns-button-desktop",onClick:()=>F(e=>!e),className:"px-3 py-2 bg-white dark:bg-transparent border border-gray-400 dark:border-gray-600 rounded-md text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm","aria-haspopup":"true","aria-expanded":E,children:[(0,r.jsx)(V.A,{className:"w-4 h-4"})," Columns"]}),E&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/30 backdrop-blur-sm",onClick:()=>F(!1),children:(0,r.jsxs)("div",{ref:P,onClick:e=>e.stopPropagation(),className:"relative w-80 p-4 bg-white/80 dark:bg-black/70 backdrop-blur-lg rounded-lg shadow-xl border border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center",children:[(0,r.jsx)("button",{onClick:()=>F(!1),className:"absolute top-2 right-2 text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white","aria-label":"Close column menu",children:(0,r.jsx)(k.A,{className:"h-5 w-5"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-3 text-black dark:text-white",children:"Visible Columns"}),(0,r.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,r.jsxs)("label",{className:"flex items-center px-2 py-1.5 cursor-pointer text-lg text-black dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-700",children:[(0,r.jsx)("input",{type:"checkbox",checked:M.has(e.key),onChange:()=>ee(e.key),disabled:M.has(e.key)&&M.size<=3,className:"\n                                                                    appearance-none\n                                                                    mr-2 h-4 w-4\n                                                                    rounded-sm\n                                                                    border-2 dark:border-white\n                                                                    bg-transparent\n                                                                    dark:checked:bg-gray-100\n                                                                    dark:checked:border-gray-800 checked:bg-indigo-600\n                                                                    transition-colors duration-200\n                                                                    disabled:opacity-50\n                                                                "}),e.label]},e.key))})]})})]}),(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-transparent rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-indigo-600 dark:text-indigo-300 font-bold text-sm",children:["1 USD = ",m.toFixed(6)," ",g.symbol]})}),(0,r.jsxs)("button",{onClick:ec,className:"px-3 py-2 bg-white dark:bg-gray-900/40 border border-gray-400 dark:border-gray-600 rounded-md text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm\n                                       ".concat(0===l.length?"cursor-not-allowed opacity-50":"hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Export selected employees",title:0===l.length?"Select employees to export":"Export ".concat(l.length," selected employee(s)"),disabled:0===l.length||d,children:[(0,r.jsx)(N.A,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),(0,r.jsx)("span",{children:"Export"})]}),(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-transparent rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-black dark:text-white text-sm",children:[l.length," / ",a.length]})})]}),(0,r.jsxs)("div",{className:"lg:hidden flex items-center gap-3 w-full justify-end",children:[(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-black dark:text-white text-sm",children:[l.length," / ",a.length]})}),(0,r.jsxs)(en.W1,{as:"div",className:"relative inline-block text-left",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(en.W1.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-400 dark:border-gray-600 shadow-sm px-3 py-2 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500",children:[(0,r.jsx)(G.A,{className:"h-5 w-5","aria-hidden":"true"}),(0,r.jsx)("span",{className:"sr-only",children:"More options"})]})}),(0,r.jsx)(ed.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(en.W1.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-700 ring-opacity-5 focus:outline-none z-20",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-xs uppercase text-gray-500 dark:text-gray-400",children:"Sort"}),(0,r.jsx)(en.W1.Item,{children:e=>{var t;let{active:a}=e;return(0,r.jsxs)("div",{className:"px-4 py-2 flex items-center gap-2",children:[(0,r.jsxs)("select",{id:"sort-select-mobile",value:null!=(t=b.key)?t:"",onChange:H,className:"w-full px-3 py-1.5 rounded-md border border-gray-400 dark:border-gray-600 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 ".concat(a?"bg-gray-100 dark:bg-gray-700":"bg-white dark:bg-gray-800"," text-black dark:text-white"),"aria-label":"Sort by column",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),ei.map(e=>(0,r.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),K()},disabled:!b.key,className:"p-1.5 rounded-md border border-gray-400 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:opacity-50 ".concat(a?"bg-gray-100 dark:bg-gray-700":"bg-white dark:bg-gray-800"," text-black dark:text-white"),"aria-label":"Sort direction: ".concat(b.direction),children:"asc"===b.direction?(0,r.jsx)(W.A,{className:"h-4 w-4"}):(0,r.jsx)(J.A,{className:"h-4 w-4"})})]})}}),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,r.jsx)(en.W1.Item,{children:e=>{let{active:t}=e;return(0,r.jsxs)("button",{onClick:()=>F(!0),className:"".concat(t?"bg-gray-100 dark:bg-gray-700":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-900 dark:text-gray-200"),children:[(0,r.jsx)(V.A,{className:"mr-3 h-5 w-5 text-gray-500 dark:text-gray-400","aria-hidden":"true"}),"Columns"]})}}),(0,r.jsx)(en.W1.Item,{disabled:0===l.length||d,children:e=>{let{active:t,disabled:a}=e;return(0,r.jsxs)("button",{onClick:ec,disabled:a,className:"".concat(t&&!a?"bg-gray-100 dark:bg-gray-700":""," ").concat(a?"opacity-50 cursor-not-allowed":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-900 dark:text-gray-200"),children:[(0,r.jsx)(N.A,{className:"mr-3 h-5 w-5 text-indigo-600 dark:text-indigo-400","aria-hidden":"true"}),"Export Selected"]})}}),(0,r.jsx)(en.W1.Item,{children:e=>{let{active:t}=e;return(0,r.jsxs)("div",{className:"".concat(t?"bg-gray-100 dark:bg-gray-700":""," px-4 py-2 text-sm text-gray-700 dark:text-gray-300"),children:["1 USD = ",m.toFixed(4)," ",g.symbol]})}})]})})})]})]})]})}),T&&(0,r.jsx)(u.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"m-2 p-3 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg text-sm font-medium text-center border border-indigo-300 dark:border-indigo-700",children:T}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-[640px] sm:min-w-[768px] font-sans",children:[(0,r.jsx)("thead",{className:"bg-transparent dark:text-white text-black border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-2 sm:px-4 py-3 w-10 sm:w-12",children:(0,r.jsx)("input",{type:"checkbox",checked:et,ref:e=>{e&&(e.indeterminate=ea)},onChange:e=>{let t=e.target.checked;O.forEach(e=>{let a=l.includes(e.wallet);(t&&!a||!t&&a)&&o(e.wallet)})},disabled:d||0===O.length,className:"\n                                        appearance-none\n                                        h-4 w-4\n                                        rounded-sm\n                                        border-2 border-gray-400 dark:border-white\n                                        bg-transparent\n                                        checked:bg-indigo-600 checked:border-indigo-600\n                                        dark:checked:bg-indigo-500 dark:checked:border-indigo-500\n                                        transition-colors duration-200\n                                        disabled:opacity-50\n                                        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 dark:focus:ring-offset-gray-900\n                                    ","aria-label":"Select all employees on this page"})}),C.filter(e=>M.has(e.key)).map(e=>(0,r.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap\n                                            ".concat("salary"===e.key||e.key===v?"text-right":"text-left","\n                                            ").concat("actions"===e.key?"text-center w-24 sm:w-32":"","\n                                            ").concat("email"===e.key||"company"===e.key?"hidden md:table-cell":"","\n                                            ").concat("wallet"===e.key?"hidden lg:table-cell":"","\n                                            "),children:"salary"===e.key?"Salary (USD)":e.key===v?"Amount (".concat(g.symbol,")"):e.label},e.key))]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-900 bg-transparent",children:[d&&0===O.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:M.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"Loading employees..."})}),!d&&0===R.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:M.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"No employees added yet."})}),!d&&R.length>0&&0===O.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:M.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"No employees match your search/filters."})}),O.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-800/20 transition-colors ".concat(l.includes(e.wallet)?"bg-indigo-50 dark:bg-indigo-900/30":""),children:[(0,r.jsx)("td",{className:"px-2 sm:px-4 py-3",children:(0,r.jsx)("input",{type:"checkbox",checked:l.includes(e.wallet),onChange:()=>o(e.wallet),disabled:d,className:"\n                                            appearance-none\n                                            h-4 w-4\n                                            rounded-sm\n                                            border-2 border-gray-400 dark:border-white\n                                            bg-transparent\n                                            checked:bg-indigo-600 checked:border-indigo-600\n                                            dark:checked:bg-indigo-500 dark:checked:border-indigo-500\n                                            transition-colors duration-200\n                                            disabled:opacity-50\n                                            focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 dark:focus:ring-offset-gray-900\n                                        ","aria-label":"Select employee ".concat(e.name)})}),C.filter(e=>M.has(e.key)).map(t=>{var a;return(0,r.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm sm:text-base text-black dark:text-white whitespace-nowrap align-middle\n                                                ".concat("salary"===t.key||t.key===v?"text-right font-medium":"text-left","\n                                                ").concat("actions"===t.key?"text-center":"","\n                                                ").concat("email"===t.key||"company"===t.key?"hidden md:table-cell":"","\n                                                ").concat("wallet"===t.key?"hidden lg:table-cell text-xs text-gray-500 dark:text-gray-400":"","\n                                                ").concat(t.key===v?"text-indigo-600 dark:text-indigo-400 font-semibold":"","\n                                                ").concat("name"===t.key?"group cursor-pointer font-medium":"","\n                                                "),title:"wallet"===t.key?e.wallet:void 0,onClick:"name"===t.key?()=>er(e):void 0,children:"actions"===t.key?(0,r.jsxs)("div",{className:"flex justify-center space-x-1 sm:space-x-2",children:[(0,r.jsx)("button",{onClick:()=>er(e),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 p-1 rounded disabled:opacity-50",disabled:d,title:"View Details",children:(0,r.jsx)(q.A,{className:"h-4 w-4"})}),c&&(0,r.jsx)("button",{onClick:()=>c(e),className:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-800 dark:hover:text-yellow-300 p-1 rounded disabled:opacity-50",disabled:d,title:"Edit employee",children:(0,r.jsx)(Q.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>i(e.wallet),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-1 rounded disabled:opacity-50",disabled:d,title:"Delete employee",children:(0,r.jsx)(X.A,{className:"h-4 w-4"})})]}):"name"===t.key?(0,r.jsxs)("div",{className:"flex items-center gap-2 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:[e.name||"N/A",(0,r.jsx)(q.A,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-500 dark:text-indigo-400"})]}):"salary"===t.key?"$".concat(parseFloat(e.salary||"0").toFixed(2)):"wallet"===t.key?"".concat(e.wallet.substring(0,6),"...").concat(e.wallet.substring(e.wallet.length-4)):t.key===v?n(e.salary||"0"):null!=(a=e[t.key])?a:"N/A"},"".concat(e.wallet,"-").concat(t.key))})]},e.wallet||t))]}),l.length>0&&(0,r.jsx)("tfoot",{children:(0,r.jsxs)("tr",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[(0,r.jsxs)("td",{colSpan:Array.from(M).filter(e=>"salary"!==e&&e!==v&&"actions"!==e).length+1,className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-gray-600 dark:text-gray-300 font-medium text-xs sm:text-sm",children:["Total (",l.length,"):"]}),M.has("salary")&&(0,r.jsxs)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-indigo-700 dark:text-indigo-300 font-bold text-xs sm:text-sm",children:["$",es.toFixed(2)]}),M.has(v)&&(0,r.jsxs)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-indigo-700 dark:text-indigo-300 font-bold text-xs sm:text-sm",children:[el," ",g.symbol]}),M.has("actions")&&(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3"})]})})]})}),(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-300 dark:border-gray-700 bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-sm text-black dark:text-white order-2 md:order-1 text-center md:text-left",children:["Showing"," ",(0,r.jsx)("span",{className:"font-medium",children:R.length>0?Math.min((f-1)*10+1,R.length):0})," ","to"," ",(0,r.jsx)("span",{className:"font-medium",children:Math.min(10*f,R.length)})," ","of"," ",(0,r.jsx)("span",{className:"font-medium",children:R.length})," ","entries ",h&&"(filtered)"]}),I>1&&(0,r.jsxs)("div",{className:"inline-flex items-center -space-x-px rounded-md shadow-sm order-1 md:order-2",children:[(0,r.jsx)("button",{onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===f||d,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-600 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:(0,r.jsx)(Y.A,{className:"h-5 w-5"})}),(0,r.jsxs)("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-black dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 bg-white dark:bg-gray-800",children:["Page ",f," of ",I]}),(0,r.jsx)("button",{onClick:()=>w(e=>Math.min(I,e+1)),disabled:f===I||d,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-600 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:(0,r.jsx)(Z.A,{className:"h-5 w-5"})})]}),(0,r.jsx)(u.P.div,{className:"w-[80%] sm:w-[60%] md:w-auto order-3 mt-4 md:mt-0",whileHover:{scale:l.length>0&&!d?1.02:1},whileTap:{scale:l.length>0&&!d?.98:1},transition:{duration:.2},children:(0,r.jsxs)("button",{onClick:x,disabled:0===l.length||d,className:"w-full px-1 py-2 sm:px-6 sm:py-3 rounded-xl font-medium sm:text-base text-sm transition-all flex items-center justify-center gap-3\n                      ".concat(0===l.length||d?"bg-gray-300 dark:bg-gray-900/50 text-gray-500 dark:text-gray-300 cursor-not-allowed border border-gray-400 dark:border-gray-600":"bg-gradient-to-r from-[#4890e9] to-[#3b82f6] text-white hover:from-[#3b82f6] hover:to-[#2563eb] shadow-lg shadow-[#3b82f6]/20 hover:shadow-[#3b82f6]/30"),children:[(0,r.jsx)($.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:0===l.length?"Select Employees":"Pay Selected (".concat(l.length,")")})]})})]})}),(0,r.jsx)(eo,{isOpen:D,onClose:()=>{B(!1),L(null)},employee:U})]})};var em=a(82714),ex=a(89852),eg=a(53999),eh=a(12168),ep=a(64261),eu=a(5196);let eb=e=>{let{isOpen:t,onClose:a,onUploadSuccess:o}=e,[n,d]=(0,s.useState)(!1),[i,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null),p=(0,s.useRef)(null),y=e=>{e.preventDefault(),e.stopPropagation(),d("dragenter"===e.type||"dragover"===e.type)},f=e=>{var t;h(null);let a=null==(t=e.name.split(".").pop())?void 0:t.toLowerCase();return a&&["csv","xls","xlsx"].includes(a)?e.size>5242880?void h({success:!1,message:"File too large",details:["Maximum file size is 5MB"]}):void c(e):void h({success:!1,message:"Invalid file format",details:["Please upload a CSV or Excel file (.csv, .xls, .xlsx)"]})},w=async()=>{var e,t,r,s,n;if(!i)return void h({success:!1,message:"No file selected",details:["Please select a file to upload"]});try{x(!0),h(null);let t=new FormData;t.append("file",i);let r=await l.U.bulkUploadEmployees(t);"success"===r.status?(h({success:!0,message:"Upload successful",details:["".concat((null==(e=r.data)?void 0:e.uploadedCount)||"Multiple"," employees added successfully.")]}),setTimeout(()=>{o(),setTimeout(()=>a(),1500)},1500)):h({success:!1,message:"Upload failed",details:r.errors||[r.message||"Unknown error occurred"]})}catch(e){console.error("Upload error:",e),h({success:!1,message:"Upload failed",details:(null==(r=e.response)||null==(t=r.data)?void 0:t.errors)||[(null==(n=e.response)||null==(s=n.data)?void 0:s.message)||e.message||"Unknown error occurred"]})}finally{x(!1)}};return t?(0,r.jsx)(b.N,{children:(0,r.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 dark:bg-black/90 bg-white/90 z-50 p-4 overflow-y-auto",onClick:a,children:(0,r.jsx)("div",{className:"relative w-full min-h-full flex items-center justify-center py-6",children:(0,r.jsxs)(u.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"bg-transparent relative w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",children:[(0,r.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-800/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,r.jsx)("div",{className:"p-2 sm:p-2.5 rounded-full bg-gray-100 dark:bg-gray-800/20 shadow-inner shadow-gray-200/50 dark:shadow-gray-700/10",children:(0,r.jsx)(B.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600 dark:text-gray-300"})}),(0,r.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black dark:text-white tracking-tight",children:"Bulk Upload Employees"})]}),(0,r.jsx)(u.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:a,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",children:(0,r.jsx)(k.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/40 backdrop-blur-sm rounded-xl p-4 sm:p-5 border border-gray-200 dark:border-gray-800/60 flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gray-200 dark:bg-gray-800/50 flex items-center justify-center border border-gray-300 dark:border-gray-700/50 flex-shrink-0",children:(0,r.jsx)(ep.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700 dark:text-gray-300"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-black dark:text-white text-base sm:text-lg mb-1",children:"Download Template"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base mb-2 sm:mb-3",children:"Use our template to ensure your data is formatted correctly"}),(0,r.jsxs)(u.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{let e=new Blob(["name,email,designation,salary,wallet\nJohn Doe,john@example.com,Developer,5000,0x1234567890abcdef1234567890abcdef12345678\nJane Smith,jane@example.com,Designer,4500,0xabcdef1234567890abcdef1234567890abcdef12"],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("hidden",""),a.setAttribute("href",t),a.setAttribute("download","employee_template.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex items-center text-sm sm:text-base",children:[(0,r.jsx)(N.A,{className:"w-4 h-4 mr-1.5 sm:mr-2"}),(0,r.jsx)("span",{className:"font-medium",children:"Download Template"})]})]})]}),(0,r.jsxs)("div",{className:"relative border-2 border-dashed rounded-xl p-6 sm:p-8 text-center transition-colors backdrop-blur-sm ".concat(n?"border-gray-500 dark:border-gray-400 bg-gray-50 dark:bg-gray-800/30":i?"border-gray-400 dark:border-gray-500/40 bg-gray-50/50 dark:bg-gray-800/20":"border-gray-300 dark:border-gray-700/50 hover:border-gray-400 dark:hover:border-gray-600/70 bg-gray-50/50 dark:bg-gray-900/20"),onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files.length>0&&f(e.dataTransfer.files[0])},children:[(0,r.jsx)("input",{ref:p,type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{e.target.files&&e.target.files.length>0&&f(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Upload CSV or Excel file",title:"Upload employee data file",disabled:m}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto flex items-center justify-center border ".concat(i?"bg-gray-200 dark:bg-gray-800/40 border-gray-300 dark:border-gray-700/50":"bg-gray-100 dark:bg-gray-900/60 border-gray-300 dark:border-gray-700/50"),children:m?(0,r.jsx)(el.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400 animate-spin"}):i?(0,r.jsx)(eu.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"}):(0,r.jsx)(B.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-base sm:text-lg text-black dark:text-white mb-1 sm:mb-2 break-words",children:i?i.name:"Drop your file here"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:i?"".concat((i.size/1024).toFixed(1),"KB - ").concat(i.type):"Support for CSV and Excel files"}),i&&!m&&(0,r.jsx)(u.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{c(null),h(null),p.current&&(p.current.value="")},className:"text-red-600 dark:text-red-400 text-xs sm:text-sm hover:text-red-700 dark:hover:text-red-300 transition-colors mt-2 sm:mt-3",children:"Remove file"})]})]})]}),g&&(0,r.jsx)(u.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border ".concat(g.success?"bg-green-50 dark:bg-green-900/10 border-green-300 dark:border-green-700/20":"bg-red-50 dark:bg-red-400/10 border-red-300 dark:border-red-400/20"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full ".concat(g.success?"bg-green-100 dark:bg-green-900/10":"bg-red-100 dark:bg-red-400/10"),children:g.success?(0,r.jsx)(eu.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-300"}):(0,r.jsx)(C.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 dark:text-red-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm sm:text-base ".concat(g.success?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-400"),children:g.message}),g.details&&g.details.length>0&&(0,r.jsx)("ul",{className:"list-disc pl-4 sm:pl-5 mt-1.5 sm:mt-2 space-y-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:g.details.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]})]})}),(0,r.jsx)("div",{className:"p-4 sm:p-5 rounded-lg border border-gray-200 dark:border-gray-700/20 bg-gray-50/50 dark:bg-gray-800/10 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-gray-200 dark:bg-gray-800/30 mt-0.5 flex-shrink-0",children:(0,r.jsx)(K.A,{className:"w-4 h-4 text-gray-600 dark:text-gray-300 flex-shrink-0"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-black dark:text-white font-medium text-sm sm:text-base mb-1.5 sm:mb-2",children:"Important Guidelines"}),(0,r.jsxs)("ul",{className:"list-disc pl-4 sm:pl-5 space-y-1 text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:[(0,r.jsx)("li",{children:"Required fields: name, email, designation, salary, wallet"}),(0,r.jsx)("li",{children:"Wallet addresses must be valid Ethereum addresses"}),(0,r.jsx)("li",{children:"Maximum 100 employees per upload"}),(0,r.jsx)("li",{children:"File size should not exceed 5MB"})]})]})]})})]}),(0,r.jsx)("div",{className:"px-4 py-4 sm:px-6 sm:py-5 border-t border-gray-200 dark:border-gray-800/60 bg-gray-50/50 dark:bg-transparent backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-center sm:justify-end gap-3 sm:gap-4",children:[(0,r.jsx)(u.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl border border-gray-300 dark:border-gray-700/80 bg-white dark:bg-gray-800/50 text-black dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-black dark:hover:text-white hover:border-gray-400 dark:hover:border-gray-600 transition-all duration-200 backdrop-blur-sm text-sm sm:text-base",disabled:m,children:"Cancel"}),(0,r.jsx)(u.P.button,{whileHover:m||!i||(null==g?void 0:g.success)?{}:{scale:1.02},whileTap:m||!i||(null==g?void 0:g.success)?{}:{scale:.98},onClick:w,disabled:!i||m||(null==g?void 0:g.success)===!0,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl transition-all font-medium text-sm sm:text-base\n                    ".concat(!i||m||(null==g?void 0:g.success)===!0?"bg-gradient-to-r from-gray-400/70 to-gray-500/70 dark:from-gray-600/40 dark:to-gray-700/40 text-white/70 cursor-not-allowed":"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 dark:from-gray-600 dark:to-gray-700 dark:hover:from-gray-500 dark:hover:to-gray-600 text-white shadow-lg shadow-gray-500/20 dark:shadow-gray-800/20 hover:shadow-gray-500/30 dark:hover:shadow-gray-800/30"),children:m?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(el.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):(null==g?void 0:g.success)?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(eu.A,{className:"w-4 h-4 mr-2"}),"Uploaded"]}):"Upload & Process"})]})})]})})})}):null},ey=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"absolute inset-x-0 -bottom-px block h-px w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-0 transition duration-500 group-hover/btn:opacity-100"}),(0,r.jsx)("span",{className:"absolute inset-x-10 -bottom-px mx-auto block h-px w-1/2 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-0 blur-sm transition duration-500 group-hover/btn:opacity-100"})]}),ef=e=>{let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,eg.cn)("flex w-full flex-col space-y-2",a),children:t})},ek=e=>{var t,a;let{isOpen:l,onClose:o,onAddEmployee:n,onUpdateEmployee:d,editEmployee:i,onUploadSuccess:c}=e,{user:m}=(0,I.A)(),[x,g]=(0,s.useState)(!1),[h,p]=(0,s.useState)({}),[y,f]=(0,s.useState)({name:"",designation:"",wallet:"",salary:"",email:"",company:(null==m||null==(t=m.company)?void 0:t.toString())||""}),w=!!i;(0,s.useEffect)(()=>{var e,t;i?f({name:i.name,designation:i.designation,wallet:i.wallet,salary:i.salary,email:i.email||"",company:(null==m||null==(e=m.company)?void 0:e.toString())||""}):l&&(f({name:"",designation:"",wallet:"",salary:"",email:"",company:(null==m||null==(t=m.company)?void 0:t.toString())||""}),p({}))},[i,m,l]);let v=e=>{let{name:t,value:a}=e.target;f(e=>{var r;return{...e,[t]:a,company:(null==m||null==(r=m.company)?void 0:r.toString())||""}}),h[t]&&p(e=>({...e,[t]:void 0}))};return l?(0,r.jsx)(b.N,{children:l&&(0,r.jsxs)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 w-screen h-screen bg-black/50 z-50",onClick:o,children:[(0,r.jsxs)(u.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"flex relative w-full h-full items-center justify-center bg-white/90 dark:bg-black/90 md:p-4",children:[(0,r.jsx)(eh.n,{}),(0,r.jsxs)(u.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"shadow-input relative w-full md:max-w-4xl rounded-none bg-white md:rounded-xl p-4 md:p-8 dark:bg-black",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-200",children:w?"Edit Employee":"Add New Employee"}),(0,r.jsx)("button",{onClick:o,"aria-label":"Close",children:(0,r.jsx)(k.A,{className:"text-neutral-500 hover:text-red-500"})})]}),(0,r.jsxs)("form",{className:"my-8",onSubmit:e=>{e.preventDefault();let t={};if(Object.entries(y).forEach(e=>{let[a,r]=e;r.toString().trim()||(t[a]="This field is required")}),Object.keys(t).length)return void p(t);w&&d?d(i.wallet,y):n(y),o()},children:[(0,r.jsxs)("div",{className:"mb-4 flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[(0,r.jsxs)(ef,{children:[(0,r.jsx)(em.J,{htmlFor:"name",children:"Name"}),(0,r.jsx)(ex.p,{id:"name",name:"name",placeholder:"John Doe",value:y.name,onChange:v,className:(0,eg.cn)(h.name&&"border-red-500 focus:ring-red-500")}),h.name&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.name})]}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(em.J,{htmlFor:"company",children:"Company"}),(0,r.jsx)(ex.p,{id:"company",name:"company",value:(null==m||null==(a=m.company)?void 0:a.toString())||"",disabled:!0,className:"opacity-60 cursor-not-allowed"})]})]}),(0,r.jsxs)("div",{className:"mb-4 flex flex-col space-y-4",children:[(0,r.jsxs)(ef,{children:[(0,r.jsx)(em.J,{htmlFor:"designation",children:"Designation"}),(0,r.jsx)(ex.p,{id:"designation",name:"designation",placeholder:"Senior Developer",value:y.designation,onChange:v,className:(0,eg.cn)(h.designation&&"border-red-500 focus:ring-red-500")}),h.designation&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.designation})]}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(em.J,{htmlFor:"email",children:"Email"}),(0,r.jsx)(ex.p,{id:"email",name:"email",type:"email",placeholder:"john@abc.com",value:y.email,onChange:v,className:(0,eg.cn)(h.email&&"border-red-500 focus:ring-red-500")}),h.email&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.email})]}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(em.J,{htmlFor:"wallet",children:"Wallet Address"}),(0,r.jsx)(ex.p,{id:"wallet",name:"wallet",placeholder:"0x...",value:y.wallet,onChange:v,className:(0,eg.cn)(h.wallet&&"border-red-500 focus:ring-red-500")}),h.wallet&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.wallet})]}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(em.J,{htmlFor:"salary",children:"Salary (USD)"}),(0,r.jsx)(ex.p,{id:"salary",name:"salary",placeholder:"5000",value:y.salary,onChange:v,className:(0,eg.cn)(h.salary&&"border-red-500 focus:ring-red-500")}),h.salary&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:h.salary})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex md:flex-row flex-col md:space-x-4 space-y-3",children:[(0,r.jsxs)("button",{type:"button",onClick:o,className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:["Cancel",(0,r.jsx)(ey,{})]}),(0,r.jsxs)("button",{type:"submit",className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:[w?"Update Employee":"Add Employee",(0,r.jsx)(ey,{})]})]}),(0,r.jsx)("div",{className:"w-full flex items-center justify-center",children:!w&&(0,r.jsxs)("button",{type:"button",onClick:()=>g(!0),className:"group/btn shadow-input relative flex h-10 w-80 items-center justify-center space-x-2 rounded-md bg-gray-800 px-4 font-medium text-black dark:bg-zinc-900 dark:shadow-[0px_0px_1px_1px_#262626]",children:[(0,r.jsx)(B.A,{className:"h-4 w-4 text-neutral-200 dark:text-neutral-300"}),(0,r.jsx)("span",{className:"text-sm text-neutral-200 dark:text-neutral-300",children:"Bulk Upload"}),(0,r.jsx)(ey,{})]})})]})]})]})]}),(0,r.jsx)(eb,{isOpen:x,onClose:()=>g(!1),onUploadSuccess:c})]},"modal-overlay")}):null},ew=()=>{let[e,t]=(0,s.useState)(m.at.mainnet[0]),[a,g]=(0,s.useState)(null),[u,b]=(0,s.useState)({}),[y,f]=(0,s.useState)(1),[k,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[C,N]=(0,s.useState)([]),[A,M]=(0,s.useState)(null),[S,E]=(0,s.useState)(!0),[F,P]=(0,s.useState)(!1),[T,_]=(0,s.useState)(null),[U,L]=(0,s.useState)(""),[D,B]=(0,s.useState)([]),[z,R]=(0,s.useState)(""),[I,O]=(0,s.useState)(!1),[W,J]=(0,s.useState)(),V=(0,d.YL)(),G=(0,d.eW)(),{mutate:q}=(0,d.Fp)(),{currentNetwork:Q}=(0,c.h)(),[X,Y]=(0,s.useState)(m.at[Q]||[]),[Z,$]=(0,s.useState)(m.eN[Q]);console.log("Current Network:",Q),console.log("Available Tokens:",X),console.log("Bulk Transfer Address:",Z),console.log("Selected Coin:",e),console.log("Coin Balance:",u),console.log("Exchange Rate:",y),(0,s.useEffect)(()=>{ea(),et()},[]),(0,s.useEffect)(()=>{Y(m.at[Q]||[]),$(m.eN[Q]),m.at[Q]&&m.at[Q].length>0&&t(m.at[Q][0]),e&&K(e.symbol),V&&ee()},[Q]);let K=async e=>{try{let t=await (0,x.E)(e);f(t)}catch(e){console.error("Error fetching exchange rate:",e)}};(0,s.useEffect)(()=>{V&&ee()},[V,e]);let ee=async()=>{if(V)try{let e={};for(let t of X){let a=await G.getBalance({owner:V.address,coinType:t.address}),r=a?(Number(a.totalBalance)/Math.pow(10,t.decimals)).toFixed(6):"0.000000";e[t.symbol]=r}b(e)}catch(e){console.error("Error fetching balances:",e)}},et=async()=>{try{let e=localStorage.getItem("user");if(e){let{company:t}=JSON.parse(e);L(t)}}catch(e){console.error("Failed to fetch company info:",e)}},ea=async()=>{try{E(!0);let e=await l.U.getAllEmployees();if("success"===e.status)N(e.employees||[]);else throw Error(e.message||"Failed to fetch employees")}catch(e){console.error("Failed to fetch employees:",e),n.oR.error("Failed to load employees: ".concat(e.message||"Unknown error"))}finally{E(!1)}},er=t=>(parseFloat(t||"0")*y).toFixed(e.decimals),es=async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;try{var s;let a=null==(s=(await G.getTransactionBlock({digest:t,options:{showEffects:!0,showInput:!0}})).effects)?void 0:s.gasUsed,r=a?(parseInt(a.computationCost)+parseInt(a.storageCost)-parseInt(a.storageRebate))/1e9:0,l=C.filter(e=>D.includes(e.wallet)).reduce((e,t)=>e+parseFloat(er(t.salary)),0),o={totalTokenSent:l.toFixed(6),gasFee:r.toFixed(6),effectiveTotalCost:"SUI"===e.symbol?(l+r).toFixed(6):"".concat(l.toFixed(6)," ").concat(e.symbol," + ").concat(r.toFixed(6)," SUI")};return g(o),o}catch(o){if(console.error("Error getting transaction details (attempt ".concat(a+1,"/").concat(r,"):"),o),a<r){let e=1e3*Math.pow(2,a);return console.log("Retrying in ".concat(e/1e3," seconds...")),new Promise(s=>{setTimeout(async()=>{s(await es(t,a+1,r))},e)})}let s=C.filter(e=>D.includes(e.wallet)).reduce((e,t)=>e+parseFloat(er(t.salary)),0),l={totalTokenSent:s.toFixed(6),gasFee:"pending",effectiveTotalCost:"SUI"===e.symbol?"".concat(s.toFixed(6)," (gas fee pending)"):"".concat(s.toFixed(6)," ").concat(e.symbol," + gas fee (pending)")};return g(l),l}},el=async()=>{if(R(""),!V)return void n.oR.error("Please connect your wallet first");if(0===D.length)return void n.oR.error("Please select at least one employee to pay");try{O(!0);let t=C.filter(e=>D.includes(e.wallet)),a=t.reduce((e,t)=>e+parseFloat(t.salary),0),r=a*y;console.log("Total payment: ".concat(a," USD = ").concat(r," ").concat(e.symbol));let s=parseFloat(u[e.symbol]||"0");if(s<r)throw Error("Insufficient ".concat(e.symbol," balance. Available: ").concat(s.toFixed(6),", Required: ").concat(r.toFixed(6)));let l=t.map(e=>e.wallet),d=t.map(t=>{let a=parseFloat(t.salary||"0"),r=a*y,s=Math.floor(r*Math.pow(10,e.decimals));return console.log("Employee: ".concat(t.name,", USD: ").concat(a,", Token: ").concat(r.toFixed(6)," ").concat(e.symbol,", Smallest units: ").concat(s)),s}),c=d.reduce((e,t)=>e+t,0),m=1e7+1e6*l.length,x=new i.Z;if(x.setGasBudget(m),"SUI"===e.symbol){let[t]=x.splitCoins(x.gas,[x.pure.u64(c)]);x.moveCall({target:"".concat(Z,"::bulktransfer::bulk_transfer"),arguments:[t,x.pure.vector("address",l),x.pure.vector("u64",d)],typeArguments:[e.address]})}else{let{data:t}=await G.getCoins({owner:V.address,coinType:e.address});if(!t||0===t.length)throw Error("No ".concat(e.symbol," coins found in wallet"));let a=t.find(e=>BigInt(e.balance)>=BigInt(c));if(!a)throw Error("No single ".concat(e.symbol," coin with sufficient balance. Consider merging your coins first."));x.moveCall({target:"".concat(Z,"::bulktransfer::bulk_transfer"),arguments:[x.object(a.coinObjectId),x.pure.vector("address",l),x.pure.vector("u64",d)],typeArguments:[e.address]})}q({transaction:x,chain:"sui:".concat(Q)},{onSuccess:async r=>{if(console.log("Transaction result:",r),r&&r.effects&&console.log("Transaction effects:",r.effects),r&&r.digest){J(r.digest);let s=t.map(e=>({wallet:e.wallet,amount:e.salary})),l={company:U,employees:s,totalAmount:a.toFixed(2),tokenSymbol:e.symbol,chain:"Sui",transactionHash:r.digest};console.log("Payroll transaction data:",l),await o.U.addPayroll(l),n.oR.success("Payment completed successfully"),B([]),ee()}},onError:e=>{console.error("Transaction error:",e),R(e.message||"Transaction failed"),n.oR.error(e.message||"Transaction failed")}})}catch(e){console.error("Transaction error:",e),R(e.message||"Transaction failed"),n.oR.error(e.message||"Transaction failed")}finally{O(!1)}},eo=async()=>{if(T)try{await l.U.deleteEmployee(T),N(e=>e.filter(e=>e.wallet!==T)),n.oR.success("Employee deleted successfully")}catch(r){var e,t;console.error("Failed to delete employee:",r);let a=(null==r||null==(t=r.response)||null==(e=t.data)?void 0:e.message)||(null==r?void 0:r.message)||"An unknown error occurred";n.oR.error("Failed to delete employee: ".concat(a))}finally{P(!1),_(null)}},en=async e=>{try{let t=await l.U.addEmployee(e);if("success"===t.status){let e=t.message;N(t=>[...t,e]),w(!1),ea(),n.oR.success("Employee added successfully")}else throw Error(t.message||"Failed to add employee due to API error.")}catch(r){var t,a;console.error("Failed to add employee:",r);let e=(null==r||null==(a=r.response)||null==(t=a.data)?void 0:t.message)||(null==r?void 0:r.message)||"An unknown error occurred";n.oR.error("Failed to add employee: ".concat(e))}},ed=async(e,t)=>{try{let a=await l.U.updateEmployee(e,t);if("success"===a.status){let t=a.data;N(a=>a.map(a=>a.wallet===e?{...a,...t}:a)),w(!1),M(null),n.oR.success("Employee updated successfully"),ea()}else throw Error(a.message||"Failed to update employee due to API error.")}catch(t){var a,r;console.error("Failed to update employee:",t);let e=(null==t||null==(r=t.response)||null==(a=r.data)?void 0:a.message)||(null==t?void 0:t.message)||"An unknown error occurred";n.oR.error("Failed to update employee: ".concat(e))}};return(0,r.jsxs)("div",{className:"relative h-screen w-screen dark:text-white text-black p-6 z-10",children:[(0,r.jsx)("div",{className:"absolute top-4 left-4",children:(0,r.jsx)(h(),{href:"/",children:(0,r.jsx)(p.A,{className:"text-black dark:hover:text-gray-200 hover:text-gray-800 dark:text-white",size:30})})}),(0,r.jsxs)("div",{className:"flex flex-col max-w-screen max-h-screen items-center m-10",children:[(0,r.jsx)(H,{onAddEmployee:()=>{M(null),w(!0)},onBulkUpload:()=>{j(!0)},selectedToken:e,onTokenChange:e=>{t(e),K(e.symbol),n.oR.success("Selected token changed to ".concat(e.symbol))}}),(0,r.jsx)(ec,{employees:C,selectedEmployees:D,toggleEmployeeSelection:e=>{B(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},usdToToken:er,exchangeRate:y,deleteEmployeeById:e=>{_(e),P(!0)},onEditEmployee:e=>{M(e),w(!0)},handleTransaction:el,isLoading:S,selectedToken:e}),(0,r.jsx)(ek,{isOpen:k,onClose:()=>{w(!1),M(null)},onAddEmployee:en,onUpdateEmployee:ed,editEmployee:A,onUploadSuccess:()=>{ea(),j(!1)}}),(0,r.jsx)(eb,{isOpen:v,onClose:()=>j(!1),onUploadSuccess:()=>{ea(),j(!1)}})]}),F&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto dark:bg-black dark:text-white text-black backdrop-blur-sm flex items-center justify-center",children:(0,r.jsxs)("div",{className:"dark:bg-[#1A1F2E] rounded-lg p-6 w-full max-w-md mx-4 shadow-xl border border-gray-700 animate-fade-in",children:[(0,r.jsx)("h3",{className:"text-xl font-medium dark:text-white mb-4",children:"Confirm Deletion"}),(0,r.jsx)("p",{className:"dark:text-gray-300 mb-6",children:"Are you sure you want to delete this employee? This action cannot be undone."}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{P(!1),_(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white transition-colors duration-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:eo,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-200",children:"Delete"})]})]})})]})}},12168:(e,t,a)=>{"use strict";a.d(t,{n:()=>n});var r=a(95155),s=a(12115),l=a(55955),o=a(53999);let n=s.memo(e=>{let{className:t}=e,a=["M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875","M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867","M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859","M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851","M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843","M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835","M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827","M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819","M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811","M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803","M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795","M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787","M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779","M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771","M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763","M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755","M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747","M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739","M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731","M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723","M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715","M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707","M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699","M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691","M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683","M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675","M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667","M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659","M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651","M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643","M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635","M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627","M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619","M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611","M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603","M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595","M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587","M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579","M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571","M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563","M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555","M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547","M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539","M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531","M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523","M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515","M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507","M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499","M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491","M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483"];return(0,r.jsx)("div",{className:(0,o.cn)("absolute inset-0 flex h-full w-full items-center justify-center [mask-repeat:no-repeat] [mask-size:60px]",t),children:(0,r.jsxs)("svg",{className:"pointer-events-none absolute z-0 h-full w-full",width:"100%",height:"100%",viewBox:"0 0 696 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483M-30 -589C-30 -589 38 -184 502 -57C966 70 1034 475 1034 475M-23 -597C-23 -597 45 -192 509 -65C973 62 1041 467 1041 467M-16 -605C-16 -605 52 -200 516 -73C980 54 1048 459 1048 459M-9 -613C-9 -613 59 -208 523 -81C987 46 1055 451 1055 451M-2 -621C-2 -621 66 -216 530 -89C994 38 1062 443 1062 443M5 -629C5 -629 73 -224 537 -97C1001 30 1069 435 1069 435M12 -637C12 -637 80 -232 544 -105C1008 22 1076 427 1076 427M19 -645C19 -645 87 -240 551 -113C1015 14 1083 419 1083 419",stroke:"url(#paint0_radial_242_278)",strokeOpacity:"0.05",strokeWidth:"0.5"}),a.map((e,t)=>(0,r.jsx)(l.P.path,{d:e,stroke:"url(#linearGradient-".concat(t,")"),strokeOpacity:"0.4",strokeWidth:"0.5"},"path-"+t)),(0,r.jsxs)("defs",{children:[a.map((e,t)=>(0,r.jsxs)(l.P.linearGradient,{id:"linearGradient-".concat(t),initial:{x1:"0%",x2:"0%",y1:"0%",y2:"0%"},animate:{x1:["0%","100%"],x2:["0%","95%"],y1:["0%","100%"],y2:["0%","".concat(93+8*Math.random(),"%")]},transition:{duration:10*Math.random()+10,ease:"easeInOut",repeat:1/0,delay:10*Math.random()},children:[(0,r.jsx)("stop",{stopColor:"#18CCFC",stopOpacity:"0"}),(0,r.jsx)("stop",{stopColor:"#18CCFC"}),(0,r.jsx)("stop",{offset:"32.5%",stopColor:"#6344F5"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#AE48FF",stopOpacity:"0"})]},"gradient-".concat(t))),(0,r.jsxs)("radialGradient",{id:"paint0_radial_242_278",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(352 34) rotate(90) scale(555 1560.62)",children:[(0,r.jsx)("stop",{offset:"0.0666667",stopColor:"#d4d4d4"}),(0,r.jsx)("stop",{offset:"0.243243",stopColor:"#d4d4d4"}),(0,r.jsx)("stop",{offset:"0.43594",stopColor:"white",stopOpacity:"0"})]})]})]})})});n.displayName="BackgroundBeams"},21988:(e,t,a)=>{"use strict";a.d(t,{D8:()=>n,Fm:()=>s,Ks:()=>i,Rr:()=>m,Y6:()=>h,ac:()=>x,cF:()=>g,mZ:()=>c,n1:()=>l,nM:()=>o,rV:()=>d});var r=a(22732);let s="0x0000000000000000000000000000000000000000",l=(0,r.x)({id:137,name:"Polygon",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"Polygonscan",url:"https://polygonscan.com"}}}),o=(0,r.x)({id:80002,name:"Polygon Amoy Testnet",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"Polygonscan",url:"https://amoy.polygonscan.com/"}}}),n=(0,r.x)({id:42161,name:"Arbitrum One",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io"}}}),d=(0,r.x)({id:56,name:"BNB Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://binance.llamarpc.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com"}}}),i=(0,r.x)({id:41923,name:"Educhain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud/66a13f09ceab49998f954e7bb71c7c02"]}},blockExplorers:{default:{name:"Blockscout",url:"https://educhain.blockscout.com"}}}),c=(0,r.x)({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"AVAX",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"Snowtrace",url:"https://snowtrace.io"}}}),m=(0,r.x)({id:10,name:"Optimism",nativeCurrency:{decimals:18,name:"OPTIMISM",symbol:"OP"},rpcUrls:{default:{http:["https://10.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"OptimismScan",url:"https://optimistic.etherscan.io"}}}),x=(0,r.x)({id:97,name:"BNB Chain Testnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.binance.org:8545"]}},blockExplorers:{default:{name:"BscScan Testnet",url:"https://testnet.bscscan.com"}}}),g=(0,r.x)({id:50002,name:"Pharos Devnet",nativeCurrency:{name:"Pharos",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://devnet.dplabs-internal.com"]}},blockExplorers:{default:{name:"Pharosscan",url:"https://pharosscan.xyz"}}}),h=[l,o,n,d,i,m,c,x,g]},22732:(e,t,a)=>{"use strict";function r(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}a.d(t,{x:()=>r})},32942:(e,t,a)=>{"use strict";a.d(t,{d:()=>n});var r=a(12115),s=a(7471),l=a(76168),o=a(99967);function n(e){let t=(0,l.M)(()=>(0,o.OQ)(e)),{isStatic:a}=(0,r.useContext)(s.Q);if(a){let[,a]=(0,r.useState)(e);(0,r.useEffect)(()=>t.on("change",a),[])}return t}},34869:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},55615:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var r=a(69025),s=a(32942),l=a(46182),o=a(5057);function n(e,...t){let a=e.length;return function(e,t){let a=(0,s.d)(t()),o=()=>a.set(t());return o(),(0,r.E)(()=>{let t=()=>l.Gt.preRender(o,!1,!0),a=e.map(e=>e.on("change",t));return()=>{a.forEach(e=>e()),(0,l.WG)(o)}}),a}(t.filter(o.S),function(){let r="";for(let s=0;s<a;s++){r+=e[s];let a=t[s];a&&(r+=(0,o.S)(a)?a.get():a)}return r})}},81586:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},82714:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var r=a(95155),s=a(12115),l=a(87073),o=a(53999);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.b,{ref:t,className:(0,o.cn)("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...s})});n.displayName=l.b.displayName},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>m});var r=a(15933),s=a(95155),l=a(12115),o=a(53999),n=a(32942),d=a(55955),i=a(55615);function c(){let e=(0,r._)(["\n        radial-gradient(\n          "," circle at ","px ","px,\n          #3b82f6,\n          transparent 80%\n        )\n      "]);return c=function(){return e},e}let m=l.forwardRef((e,t)=>{let{className:a,type:r,...m}=e,[x,g]=l.useState(!1),h=(0,n.d)(0),p=(0,n.d)(0);return(0,s.jsx)(d.P.div,{style:{background:(0,i.E)(c(),x?"100px":"0px",h,p)},onMouseMove:function(e){let{currentTarget:t,clientX:a,clientY:r}=e,{left:s,top:l}=t.getBoundingClientRect();h.set(a-s),p.set(r-l)},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),className:"group/input rounded-lg p-[2px] transition duration-300",children:(0,s.jsx)("input",{type:r,className:(0,o.cn)("shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600",a),ref:t,...m})})});m.displayName="Input"},91420:(e,t,a)=>{Promise.resolve().then(a.bind(a,7146))},91788:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},93550:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[844,2545,4277,4134,3464,2497,8098,5955,8021,2901,2897,9546,5526,3791,5196,813,8441,1684,7358],()=>t(91420)),_N_E=e.O()}]);