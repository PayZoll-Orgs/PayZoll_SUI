(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3735],{381:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1243:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6101:(e,a,t)=>{"use strict";t.d(a,{s:()=>n,t:()=>l});var r=t(12115);function s(e,a){if("function"==typeof e)return e(a);null!=e&&(e.current=a)}function l(...e){return a=>{let t=!1,r=e.map(e=>{let r=s(e,a);return t||"function"!=typeof r||(t=!0),r});if(t)return()=>{for(let a=0;a<r.length;a++){let t=r[a];"function"==typeof t?t():s(e[a],null)}}}}function n(...e){return r.useCallback(l(...e),e)}},12168:(e,a,t)=>{"use strict";t.d(a,{n:()=>i});var r=t(95155),s=t(12115),l=t(55955),n=t(53999);let i=s.memo(e=>{let{className:a}=e,t=["M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875","M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867","M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859","M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851","M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843","M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835","M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827","M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819","M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811","M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803","M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795","M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787","M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779","M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771","M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763","M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755","M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747","M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739","M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731","M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723","M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715","M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707","M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699","M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691","M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683","M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675","M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667","M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659","M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651","M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643","M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635","M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627","M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619","M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611","M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603","M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595","M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587","M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579","M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571","M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563","M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555","M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547","M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539","M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531","M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523","M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515","M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507","M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499","M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491","M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483"];return(0,r.jsx)("div",{className:(0,n.cn)("absolute inset-0 flex h-full w-full items-center justify-center [mask-repeat:no-repeat] [mask-size:60px]",a),children:(0,r.jsxs)("svg",{className:"pointer-events-none absolute z-0 h-full w-full",width:"100%",height:"100%",viewBox:"0 0 696 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483M-30 -589C-30 -589 38 -184 502 -57C966 70 1034 475 1034 475M-23 -597C-23 -597 45 -192 509 -65C973 62 1041 467 1041 467M-16 -605C-16 -605 52 -200 516 -73C980 54 1048 459 1048 459M-9 -613C-9 -613 59 -208 523 -81C987 46 1055 451 1055 451M-2 -621C-2 -621 66 -216 530 -89C994 38 1062 443 1062 443M5 -629C5 -629 73 -224 537 -97C1001 30 1069 435 1069 435M12 -637C12 -637 80 -232 544 -105C1008 22 1076 427 1076 427M19 -645C19 -645 87 -240 551 -113C1015 14 1083 419 1083 419",stroke:"url(#paint0_radial_242_278)",strokeOpacity:"0.05",strokeWidth:"0.5"}),t.map((e,a)=>(0,r.jsx)(l.P.path,{d:e,stroke:"url(#linearGradient-".concat(a,")"),strokeOpacity:"0.4",strokeWidth:"0.5"},"path-"+a)),(0,r.jsxs)("defs",{children:[t.map((e,a)=>(0,r.jsxs)(l.P.linearGradient,{id:"linearGradient-".concat(a),initial:{x1:"0%",x2:"0%",y1:"0%",y2:"0%"},animate:{x1:["0%","100%"],x2:["0%","95%"],y1:["0%","100%"],y2:["0%","".concat(93+8*Math.random(),"%")]},transition:{duration:10*Math.random()+10,ease:"easeInOut",repeat:1/0,delay:10*Math.random()},children:[(0,r.jsx)("stop",{stopColor:"#18CCFC",stopOpacity:"0"}),(0,r.jsx)("stop",{stopColor:"#18CCFC"}),(0,r.jsx)("stop",{offset:"32.5%",stopColor:"#6344F5"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#AE48FF",stopOpacity:"0"})]},"gradient-".concat(a))),(0,r.jsxs)("radialGradient",{id:"paint0_radial_242_278",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(352 34) rotate(90) scale(555 1560.62)",children:[(0,r.jsx)("stop",{offset:"0.0666667",stopColor:"#d4d4d4"}),(0,r.jsx)("stop",{offset:"0.243243",stopColor:"#d4d4d4"}),(0,r.jsx)("stop",{offset:"0.43594",stopColor:"white",stopOpacity:"0"})]})]})]})})});i.displayName="BackgroundBeams"},12509:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var r=t(95155);t(12115);let s=()=>(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen min-w-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-3 border-b-2 border-blue-500"})})},21988:(e,a,t)=>{"use strict";t.d(a,{D8:()=>i,Fm:()=>s,Ks:()=>d,Rr:()=>m,Y6:()=>p,ac:()=>x,cF:()=>u,mZ:()=>c,n1:()=>l,nM:()=>n,rV:()=>o});var r=t(22732);let s="0x0000000000000000000000000000000000000000",l=(0,r.x)({id:137,name:"Polygon",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"Polygonscan",url:"https://polygonscan.com"}}}),n=(0,r.x)({id:80002,name:"Polygon Amoy Testnet",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"Polygonscan",url:"https://amoy.polygonscan.com/"}}}),i=(0,r.x)({id:42161,name:"Arbitrum One",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io"}}}),o=(0,r.x)({id:56,name:"BNB Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://binance.llamarpc.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com"}}}),d=(0,r.x)({id:41923,name:"Educhain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud/66a13f09ceab49998f954e7bb71c7c02"]}},blockExplorers:{default:{name:"Blockscout",url:"https://educhain.blockscout.com"}}}),c=(0,r.x)({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"AVAX",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"Snowtrace",url:"https://snowtrace.io"}}}),m=(0,r.x)({id:10,name:"Optimism",nativeCurrency:{decimals:18,name:"OPTIMISM",symbol:"OP"},rpcUrls:{default:{http:["https://10.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"OptimismScan",url:"https://optimistic.etherscan.io"}}}),x=(0,r.x)({id:97,name:"BNB Chain Testnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.binance.org:8545"]}},blockExplorers:{default:{name:"BscScan Testnet",url:"https://testnet.bscscan.com"}}}),u=(0,r.x)({id:50002,name:"Pharos Devnet",nativeCurrency:{name:"Pharos",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://devnet.dplabs-internal.com"]}},blockExplorers:{default:{name:"Pharosscan",url:"https://pharosscan.xyz"}}}),p=[l,n,i,o,d,m,c,x,u]},49103:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},52013:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>e1});var r=t(95155),s=t(12115),l=t(10671),n=t(60760),i=t(25273),o=t(381),d=t(34835),c=t(54416),m=t(74783),x=t(40646),u=t(14186),p=t(54861),h=t(91788),g=t(47924),b=t(33786),y=t(17580),f=t(47863),k=t(66474),w=t(94860),v=t(46258),j=t(21988);let N=e=>{let{status:a}=e;return"completed"===a?(0,r.jsx)(x.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400"}):"pending"===a?(0,r.jsx)(u.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-400"}):(0,r.jsx)(p.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-400"})},C=e=>!e||e.length<10?e:"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)),A=e=>{let{isOpen:a,onClose:t}=e,[i,o]=(0,s.useState)(""),[d,c]=(0,s.useState)([]),[m,x]=(0,s.useState)(!0),[u,A]=(0,s.useState)(null),[E,F]=(0,s.useState)(null);(0,s.useEffect)(()=>{a&&(async()=>{try{x(!0);let e=await w.U.getPayrollHistory();if("success"===e.status){let a=[...e.data||[]].sort((e,a)=>new Date(a.createdAt).getTime()-new Date(e.createdAt).getTime());c(a)}else A("Failed to load transaction history")}catch(e){console.error("Error fetching payroll history:",e),A("Error loading transactions")}finally{x(!1)}})()},[a]);let S=e=>{try{let a=new Date(e);return(0,v.A)(a,{addSuffix:!0})}catch(e){return"Unknown date"}},T=e=>{F(a=>a===e?null:e)},M=(e,a)=>{var t,r;let s=j.Y6.find(a=>a.name.toLowerCase()===e.toLowerCase());if(null==s||null==(r=s.blockExplorers)||null==(t=r.default)?void 0:t.url)return"".concat(s.blockExplorers.default.url,"/tx/").concat(a);let l={Ethereum:"https://etherscan.io/tx/",Base:"https://basescan.org/tx/",Arbitrum:"https://arbiscan.io/tx/"}[e];return l?"".concat(l).concat(a):"#"},P=d.filter(e=>e.transactionHash.toLowerCase().includes(i.toLowerCase())||e.totalAmount.toLowerCase().includes(i.toLowerCase())||e.chain.toLowerCase().includes(i.toLowerCase())||e.tokenSymbol.toLowerCase().includes(i.toLowerCase())||e.company.toLowerCase().includes(i.toLowerCase()));return(0,r.jsx)(n.N,{children:a&&(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/75 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",onClick:t,children:(0,r.jsxs)(l.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:to-black/95 w-[90%] md:w-[80%] lg:w-[60%] max-h-[85vh] rounded-2xl border border-gray-200 dark:border-[#a5b4fc]/20 overflow-hidden shadow-2xl shadow-black/60 backdrop-blur-xl",children:[(0,r.jsxs)("div",{className:"p-4 sm:p-5 border-b border-gray-200 dark:border-[#a5b4fc]/10 flex justify-between items-center sticky top-0 bg-white/80 dark:bg-gradient-to-br dark:from-gray-900/90 dark:to-black/95 z-10 backdrop-blur-sm",children:[(0,r.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-black dark:text-white",style:{textShadow:"dark:0 0 5px rgba(59, 130, 246, 0.4), dark:0 0 10px rgba(96, 165, 250, 0.2)"},children:"Transaction Log"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{onClick:()=>{if(0===d.length)return;let e="Company,Transaction Hash,Total Amount,Token,Chain,Timestamp\n";d.forEach(a=>{e+='"'.concat(a.company,'","').concat(a.transactionHash,'","').concat(a.totalAmount,'","').concat(a.tokenSymbol,'","').concat(a.chain,'","').concat(new Date(a.createdAt).toLocaleString(),'"\n')});let a=new Blob([e],{type:"text/csv"}),t=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",t),r.setAttribute("download","payroll-transactions-".concat(new Date().toISOString().slice(0,10),".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"bg-gray-100 dark:bg-gray-900 backdrop-blur-sm text-black dark:text-white px-2 sm:px-3 py-1 sm:py-2 rounded-xl flex items-center space-x-1 sm:space-x-2 shadow-md hover:bg-gray-200 dark:hover:bg-gray-900 transition-all border border-gray-300 dark:border-[#a5b4fc]/20 text-xs sm:text-sm","aria-label":"Export transactions",disabled:0===d.length,children:[(0,r.jsx)(h.A,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("span",{className:"font-bold",children:"Export"})]}),(0,r.jsx)("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors p-1","aria-label":"Close modal",children:(0,r.jsx)(p.A,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{className:"p-4 sm:p-5 overflow-y-auto max-h-[calc(85vh-80px)]",children:[(0,r.jsxs)("div",{className:"relative mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search transactions...",value:i,onChange:e=>o(e.target.value),className:"w-full bg-gray-100 dark:bg-gray-900/80 backdrop-blur-sm border border-gray-300 dark:border-[#a5b4fc]/20 text-black dark:text-white rounded-xl py-1 sm:py-2 pl-8 sm:pl-10 pr-3 sm:pr-4 focus:outline-none focus:ring-2 focus:ring-blue-500/50 dark:focus:ring-[#60a5fa]/50 transition-all text-xs sm:text-sm placeholder-gray-500 dark:placeholder-gray-500"}),(0,r.jsx)(g.A,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-blue-600/60 dark:text-[#93c5fd]/60"})]}),(0,r.jsx)("div",{className:"space-y-2 sm:space-y-3 md:space-y-4",children:m?(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsxs)("div",{className:"animate-pulse flex space-x-2",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"}),(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"}),(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 dark:bg-[#60a5fa] rounded-full"})]})}):u?(0,r.jsx)("p",{className:"text-center text-red-600 dark:text-red-400 py-8",children:u}):P.length>0?P.map((e,a)=>(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-2 sm:p-3 md:p-4 rounded-xl border\n                                    ".concat(E===e._id?"border-blue-500/50 dark:border-[#60a5fa]/50 bg-blue-50/50 dark:bg-[#3b82f6]/5":"border-gray-200 dark:border-[#a5b4fc]/20 bg-white/80 dark:bg-gray-900/80","\n                                    backdrop-blur-sm hover:border-blue-500/30 dark:hover:border-[#60a5fa]/30 transition-all cursor-pointer"),onClick:()=>T(e._id),children:[(0,r.jsxs)("div",{className:"mb-2 sm:mb-0 flex-grow",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-black dark:text-white",children:C(e.transactionHash)}),(0,r.jsx)("a",{href:M(e.chain,e.transactionHash),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-[#93c5fd] hover:text-blue-700 dark:hover:text-[#60a5fa]","aria-label":"View on explorer",onClick:e=>e.stopPropagation(),children:(0,r.jsx)(b.A,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Amount:"})," ",e.totalAmount," USD (",e.tokenSymbol,")"]}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Chain:"})," ",e.chain]}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"text-blue-600/60 dark:text-[#93c5fd]/60",children:"Employees:"})," ",e.employees.length]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 self-end sm:self-auto mt-2 sm:mt-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1 mr-2",children:[(0,r.jsx)(y.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600/80 dark:text-[#93c5fd]/80"}),E===e._id?(0,r.jsx)(f.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 dark:text-[#93c5fd]"}):(0,r.jsx)(k.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 dark:text-[#93c5fd]"})]}),(0,r.jsx)(N,{status:"completed"})," ",(0,r.jsx)("span",{className:"px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-semibold bg-green-100 dark:bg-green-400/40 text-green-700 dark:text-green-500",children:S(e.createdAt)})]})]}),(0,r.jsx)(n.N,{children:E===e._id&&(0,r.jsx)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-1 mb-3 overflow-hidden",children:(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/90 border border-gray-200 dark:border-[#a5b4fc]/20 rounded-xl p-3 md:p-4 backdrop-blur-sm",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold text-blue-600 dark:text-[#93c5fd] mb-2 flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Employee Payment Details"]}),(0,r.jsx)("div",{className:"max-h-48 overflow-y-auto pr-2 scrollbar-hide",children:e.employees.map((e,a)=>(0,r.jsxs)("div",{className:"py-2 flex flex-col xs:flex-row justify-between border-b border-gray-200 dark:border-[#a5b4fc]/10 last:border-0",children:[(0,r.jsx)("div",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 break-all",children:e.wallet}),(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-blue-700 dark:text-[#93c5fd] mt-1 xs:mt-0",children:[e.amount," USD"]})]},a))})]})})})]},e._id)):(0,r.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400 text-xs sm:text-sm py-6",children:"No transactions found."})}),(0,r.jsxs)("div",{className:"mt-4 sm:mt-5 pt-3 sm:pt-4 border-t border-gray-200 dark:border-[#a5b4fc]/10 flex flex-col xs:flex-row items-start xs:items-center justify-between text-xs sm:text-sm gap-2 xs:gap-0",children:[(0,r.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["Showing ",P.length," transaction",1!==P.length?"s":""]}),d.length>P.length&&(0,r.jsx)("button",{onClick:()=>o(""),className:"text-blue-600 dark:text-[#93c5fd] hover:text-blue-700 dark:hover:text-[#60a5fa] transition-colors",children:"View All Transactions"})]})]})]})})})};var E=t(12318),F=t(29869),S=t(94870);let T=e=>{let{onAddEmployee:a,onBulkUpload:t}=e,[o,d]=(0,s.useState)(!1),m=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let x=[{title:"Add Employee",description:"Add a new team member",icon:E.A,onClick:()=>{a(),d(!1)}},{title:"Bulk Upload",description:"Import multiple employees",icon:F.A,onClick:()=>{t(),d(!1)}}];return(0,r.jsxs)("div",{className:"relative",ref:m,children:[(0,r.jsxs)(l.P.button,{onClick:()=>d(!o),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 backdrop-blur-md\n                  bg-gray-200/30 dark:bg-white/10 border border-gray-300/50 dark:border-white/20\n                  shadow-md hover:shadow-lg transition-all duration-300\n                  hover:bg-gray-300/40 dark:hover:bg-gradient-to-r dark:hover:from-gray-600/30 dark:hover:to-gray-700/30\n                  hover:border-gray-400/60 dark:hover:border-white/30\n                  rounded-lg px-3 py-2 lg:px-4 lg:py-2.5 focus:outline-none /* Adjusted padding */\n                  ".concat(o?"bg-gray-300/40 dark:bg-white/15 border-gray-400/60 dark:border-white/30":""),children:[(0,r.jsx)(i.A,{className:"w-4 h-4 lg:w-5 lg:w-5 text-black dark:text-white"})," ",(0,r.jsx)("span",{className:"font-medium text-xs lg:text-sm text-black dark:text-white whitespace-nowrap",children:"Quick Actions"}),o?(0,r.jsx)(c.A,{className:"w-4 h-4 text-black dark:text-white"}):(0,r.jsx)(k.A,{className:"w-4 h-4 text-black dark:text-white transition-transform ".concat(o?"rotate-180":"")})]}),(0,r.jsx)(n.N,{children:o&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full mt-2 z-50 w-64 sm:w-72 md:w-80",children:(0,r.jsxs)("div",{className:"rounded-xl p-4 sm:p-5 overflow-hidden /* Responsive padding */ bg-gradient-to-br from-gray-100/80 to-gray-200/90 dark:from-white/8 dark:to-white/3 backdrop-blur-lg border border-gray-300/50 dark:border-white/10 shadow-xl shadow-black/20 dark:shadow-black/40",children:[(0,r.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,r.jsx)("h2",{className:"text-base sm:text-lg font-bold text-black dark:text-white",children:"Quick Actions"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-white/70 text-xs sm:text-sm mt-1",children:"Manage your workforce"})," "]}),(0,r.jsx)("div",{className:"space-y-2 sm:space-y-3",children:x.map((e,a)=>(0,r.jsxs)(l.P.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*a},onClick:e.onClick,whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full group rounded-lg sm:rounded-xl p-2.5 sm:p-3 flex items-start gap-2.5 sm:gap-3 transition-all /* Responsive padding and gap */ duration-300 bg-gradient-to-br from-gray-50/50 to-gray-100/70 dark:from-white/5 dark:to-white/2 border border-gray-200/60 dark:border-white/10 shadow-sm hover:shadow-md /* Adjusted shadow */ hover:bg-gradient-to-br hover:from-gray-100/60 hover:to-gray-200/80 dark:hover:from-white/10 dark:hover:to-white/5",children:[(0,r.jsxs)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-md sm:rounded-lg flex-shrink-0 flex items-center justify-center transform transition-all group-hover:scale-110 bg-gradient-to-br from-gray-200/50 to-gray-300/40 dark:from-white/10 dark:to-white/5 border border-gray-300/40 dark:border-white/10",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-black dark:text-white"})," "]}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[" ",(0,r.jsxs)("div",{className:"flex justify-between items-start mb-0.5 sm:mb-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-black dark:text-white group-hover:text-gray-800 dark:group-hover:text-white/90 transition-colors",children:e.title}),(0,r.jsx)(S.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-gray-500 dark:text-white/60 group-hover:text-gray-700 dark:group-hover:text-white/80 transition-colors mt-0.5"})," "]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-white/70 group-hover:text-gray-700 dark:group-hover:text-white/80 transition-colors",children:e.description})]})]},a))}),(0,r.jsx)("div",{className:"mt-3 sm:mt-4 pt-2 sm:pt-3 border-t border-gray-300/50 dark:border-white/10",children:(0,r.jsx)(l.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>d(!1),className:"text-xs text-gray-700 dark:text-white/80 hover:text-black dark:hover:text-white transition-colors w-full text-center py-1",children:"Close"})})]})})})]})};var M=t(35196);let P=e=>{let{onConfigurePayments:a,onAddEmployee:t,onBulkUpload:x}=e,[u,p]=(0,s.useState)(!1),{user:h,logout:g}=(0,M.A)(),[b,y]=(0,s.useState)(!1),[f,k]=(0,s.useState)(!1),w=(0,s.useRef)(null),v=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let j=e=>{e(),k(!1)};return(0,r.jsxs)("div",{className:"mb-6 sm:mb-8 px-4 md:px-6 lg:px-8 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0 relative",children:[(0,r.jsxs)("div",{className:"w-full md:w-auto",children:[(0,r.jsx)("h1",{className:"text-lg sm:text-2xl md:text-3xl lg:text font-bold text-black dark:text-white",children:(null==h?void 0:h.company)||"PayZoll Dashboard"}),(0,r.jsx)("p",{className:"text-sm hidden sm:block sm:text-base md:text-lg text-gray-600 dark:text-gray-300 mt-1",children:"Add, Edit, Control and Process Payroll"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-3 lg:space-x-4",children:[(0,r.jsx)(T,{onAddEmployee:t,onBulkUpload:x}),(0,r.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>p(!0),className:"relative py-2 px-3 lg:py-2.5 lg:px-4 rounded-lg backdrop-blur-md bg-gray-200/30 dark:bg-white/10 border border-gray-300/50 dark:border-white/20 shadow-md hover:shadow-lg transition-all duration-300 hover:bg-gray-300/40 dark:hover:bg-gradient-to-r dark:hover:from-gray-600/30 dark:hover:to-gray-700/30 hover:border-gray-400/60 dark:hover:border-white/30 flex items-center justify-center gap-2",title:"Transaction Logs",children:[(0,r.jsx)(i.A,{className:"h-4 w-4 lg:h-5 lg:w-5 text-black dark:text-white"}),(0,r.jsx)("span",{className:"hidden lg:inline font-medium text-sm whitespace-nowrap text-black dark:text-white",children:"Logs"})]}),(0,r.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"relative py-2 px-3 lg:py-2.5 lg:px-4 rounded-lg backdrop-blur-md bg-gray-200/30 dark:bg-white/10 border border-gray-300/50 dark:border-white/20 shadow-md hover:shadow-lg transition-all duration-300 hover:bg-gray-300/40 dark:hover:bg-gradient-to-r dark:hover:from-gray-600/30 dark:hover:to-gray-700/30 hover:border-gray-400/60 dark:hover:border-white/30 flex items-center justify-center gap-2",title:"Configure Payments",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 lg:h-5 lg:w-5 text-black dark:text-white"}),(0,r.jsx)("span",{className:"hidden lg:inline font-medium text-sm whitespace-nowrap text-black dark:text-white",children:"Configure"})]}),(0,r.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(!0),className:"relative text-white py-2 px-3 lg:py-2.5 lg:px-4 rounded-lg backdrop-blur-md bg-blue-500 border border-blue-400 shadow-md hover:shadow-lg transition-all duration-300 hover:bg-gradient-to-r hover:from-indigo-400 hover:to-indigo-600 hover:border-indigo-500 flex items-center justify-center gap-2",title:"Logout",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 lg:h-5 lg:w-5"}),(0,r.jsx)("span",{className:"hidden lg:inline font-medium text-sm whitespace-nowrap",children:"Logout"})]})]}),(0,r.jsx)("div",{className:"md:hidden absolute top-0 right-0 mt-1 mr-1",children:(0,r.jsx)(l.P.button,{ref:v,whileTap:{scale:.95},onClick:()=>k(!f),className:"p-2 rounded-lg bg-gray-200/50 dark:bg-white/10 border border-gray-300/50 dark:border-white/20 text-black dark:text-white","aria-label":"Toggle menu",children:f?(0,r.jsx)(c.A,{className:"h-5 w-5"}):(0,r.jsx)(m.A,{className:"h-5 w-5"})})})]}),(0,r.jsx)(n.N,{children:f&&(0,r.jsx)(l.P.div,{ref:w,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"md:hidden absolute top-16 right-4 z-40 mt-2 w-64 origin-top-right rounded-xl bg-white dark:bg-black shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-white/10 focus:outline-none backdrop-blur-lg border border-gray-200 dark:border-gray-700/50",children:(0,r.jsxs)("div",{className:"py-2 px-2 space-y-1",children:[(0,r.jsxs)("button",{onClick:()=>j(t),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800/60 flex items-center gap-3 transition-colors",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Employee"]}),(0,r.jsxs)("button",{onClick:()=>j(x),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800/60 flex items-center gap-3 transition-colors",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Bulk Upload"]}),(0,r.jsx)("hr",{className:"border-gray-200 dark:border-gray-700/50 my-1"}),(0,r.jsxs)("button",{onClick:()=>j(()=>p(!0)),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800/60 flex items-center gap-3 transition-colors",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),"Transaction Logs"]}),(0,r.jsxs)("button",{onClick:()=>j(a),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800/60 flex items-center gap-3 transition-colors",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),"Configure Payments"]}),(0,r.jsx)("hr",{className:"border-gray-200 dark:border-gray-700/50 my-1"}),(0,r.jsxs)("button",{onClick:()=>j(()=>y(!0)),className:"w-full text-left px-3 py-2.5 rounded-lg text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-3 transition-colors",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),"Logout"]})]})})}),(0,r.jsx)(A,{isOpen:u,onClose:()=>p(!1)}),(0,r.jsx)(n.N,{children:b&&(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 dark:bg-black/80 backdrop-blur-sm p-4",onClick:()=>y(!1),children:(0,r.jsxs)(l.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700/50 rounded-xl p-5 sm:p-6 w-full max-w-sm shadow-xl",children:[(0,r.jsx)("h3",{className:"text-black dark:text-white text-lg font-semibold mb-2",children:"Confirm Logout"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-5 text-sm",children:"Are you sure you want to logout?"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsx)("button",{onClick:()=>y(!1),className:"w-full sm:w-auto flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-700 text-black dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm font-medium",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{g(),y(!1)},className:"w-full sm:w-auto flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm font-medium",children:"Logout"})]})]})})})]})};var D=t(55868),_=t(39785),B=t(53904),U=t(85339),I=t(63439),R=t(2145),L=t(17990),z=t(49103);let H=(0,t(19946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var O=t(1243),W=t(13558),V=t(62741),q=t(84356),G=t(1973),J=t(11681);let Y=e=>{let{tokens:a,selectedToken:t,onTokenChange:l,address:n,chainId:i,isConnected:o,isLoading:d,exchangeRate:c,onExchangeRateChange:m}=e,[x,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(null),y=50002===i,{data:f,isLoading:w,error:v,refetch:j}=(0,W.A)({address:n,token:(null==t?void 0:t.address)===q.Fm||null==t?void 0:t.address,chainId:i,query:{enabled:o&&!!t&&!!n&&!y,retry:3,retryDelay:1e3}}),N=(0,s.useCallback)(async()=>{if(!n||!(null==t?void 0:t.address)||!window.ethereum)return null;try{let e=new G.k(window.ethereum);if(t.address===q.Fm){let a=await e.getBalance(n);return(0,V.Js)(a,t.decimals)}{let a=new J.NZ(t.address,["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"],e),r=await a.balanceOf(n);return(0,V.Js)(r,t.decimals)}}catch(e){throw console.error("Ethers fallback balance fetch failed:",e),e}},[n,t]),C=f?parseFloat((0,V.Js)(f.value,f.decimals)).toFixed(4):p?parseFloat(p).toFixed(4):"0";(0,s.useEffect)(()=>{y&&o&&n&&t&&!p&&!x&&(u(!0),b(null),N().then(e=>{e&&h(e)}).catch(e=>{b(e),console.error("Error fetching Pharos chain balance:",e)}).finally(()=>{u(!1)}))},[y,o,n,t,N,p,x]),(0,s.useEffect)(()=>{y||!v||p||x||(u(!0),b(null),N().then(e=>{e&&h(e)}).catch(e=>{b(e)}).finally(()=>{u(!1)}))},[y,v,N,p,x]),(0,s.useEffect)(()=>{h(null),b(null)},[null==t?void 0:t.address,i]);let A=async()=>{if(!window.ethereum)return!1;if(t.address===q.Fm)return!0;try{return!!await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t.address,symbol:t.symbol,decimals:t.decimals||18}}})}catch(e){return console.error("Error adding token to wallet:",e),!1}};(0,s.useEffect)(()=>{o&&t&&n&&!y&&j()},[null==t?void 0:t.address,j,o,n,y]);let E=y?x:w||x,F=y?g:v&&g;return o?(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{value:t.address,onChange:e=>{let t=a.find(a=>a.address===e.target.value);t&&l(t)},className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 dark:focus:ring-blue-500/50 focus:border-blue-500 dark:focus:border-blue-500 transition-all text-sm sm:text-base appearance-none backdrop-blur-sm",disabled:d,children:null==a?void 0:a.map(e=>(0,r.jsx)("option",{value:e.address,className:"bg-white dark:bg-gray-900 text-black dark:text-white",children:e.symbol},e.address))}),(0,r.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1 sm:gap-2",children:[t.address!==q.Fm&&(0,r.jsx)("button",{onClick:A,className:"p-1 sm:p-1.5 text-blue-600 dark:text-blue-300 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/20 transition-colors",title:"Add token to wallet",disabled:d,children:(0,r.jsx)(z.A,{className:"w-4 h-4"})}),(0,r.jsx)(k.A,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{className:"p-3 sm:p-4 bg-gray-50/50 dark:bg-gray-800/20 rounded-lg border border-gray-200 dark:border-gray-700/30 backdrop-blur-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(_.A,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-300"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Balance"})]}),(0,r.jsx)("button",{onClick:()=>{h(null),b(null),y?(u(!0),N().then(e=>{e&&h(e)}).catch(e=>{b(e)}).finally(()=>{u(!1)})):j()},className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 transition-colors",title:"Refresh balance",disabled:E,children:(0,r.jsx)(B.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 ".concat(E?"animate-spin":"")})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-black dark:text-white text-sm sm:text-base font-medium truncate mr-2",children:E?"...":C}),(0,r.jsx)("span",{className:"text-blue-800 dark:text-blue-200 text-xs px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/20 rounded font-medium",children:null==t?void 0:t.symbol})]})]}),(0,r.jsxs)("div",{className:"p-3 sm:p-4 bg-gray-50/50 dark:bg-gray-800/20 rounded-lg border border-gray-200 dark:border-gray-700/30 backdrop-blur-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 mb-1.5",children:[(0,r.jsx)(H,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-300"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Exchange Rate"})]}),(0,r.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,r.jsxs)("div",{className:"text-black dark:text-white text-sm sm:text-base font-medium flex items-baseline gap-1",children:[(0,r.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"1 USD ="}),(0,r.jsx)("span",{className:"text-blue-700 dark:text-blue-300",children:d?"...":c.toFixed(4)})]}),(0,r.jsx)("span",{className:"text-blue-800 dark:text-blue-200 text-xs px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/20 rounded font-medium",children:null==t?void 0:t.symbol})]})]})]}),F&&(0,r.jsxs)("div",{className:"p-3 sm:p-4 bg-red-50 dark:bg-red-400/10 border border-red-300 dark:border-red-400/20 rounded-lg flex gap-2 sm:gap-3 items-center backdrop-blur-sm",children:[(0,r.jsx)(O.A,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),(0,r.jsx)("p",{className:"text-red-800 dark:text-red-200 text-xs sm:text-sm",children:"Error fetching balance. Please check connection or try again."})]})]}):(0,r.jsx)("div",{className:"flex items-center justify-center p-4 rounded-lg bg-gray-100 dark:bg-gray-800/30 border border-gray-200 dark:border-gray-800/60 backdrop-blur-sm",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Connect your wallet to select payment tokens"})})},Z=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],K={ETH:"ethereum",BNB:"binancecoin",tBNB:"binancecoin",MATIC:"matic-network",AVAX:"avalanche-2",USDT:"tether",USDC:"usd-coin","USDC.e":"usd-coin","USDT.e":"tether",DAI:"dai","DAI.e":"dai",WETH:"weth",WBTC:"wrapped-bitcoin",EDU:"edu-coin"};async function X(e){try{let a=K[e];if(!a)return console.warn("No CoinGecko ID mapping found for ".concat(e)),null;let t=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(a,"&vs_currencies=usd"),{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!t.ok)return console.warn("CoinGecko API response not OK: ".concat(t.status)),null;let r=await t.json();if(!r[a]||!r[a].usd)return console.warn("No price data found for ".concat(e," (").concat(a,")")),null;let s=1/r[a].usd;return console.log("CoinGecko rate for ".concat(e,": ").concat(s," (1 USD = ").concat(s," ").concat(e,")")),s}catch(a){return console.error("Error fetching price from CoinGecko for ".concat(e,":"),a),null}}async function $(e,a,t){try{if(a.includes("USD"))return 1;try{let r=(q.f6[t]||[]).find(e=>e.symbol===a),s=null==r?void 0:r.priceFeed;if(!r)throw Error("Token ".concat(a," not found on chain ").concat(t));if(!s)throw Error("No price feed found for ".concat(a," on chain ").concat(t));let l=new J.NZ(s,Z,e),[n,i]=await Promise.all([l.latestRoundData(),l.decimals()]),o=Number(n.answer)/10**Number(i),d=1/o;if(Number.isFinite(d)&&d>0)return console.log("Using Chainlink price feed for ".concat(a,": ").concat(d)),d;throw Error("Invalid exchange rate from Chainlink: ".concat(d))}catch(e){console.warn("Chainlink error for ".concat(a,":"),e)}let r=await X(a);if(null!==r&&r>0)return r;return console.warn("Falling back to hardcoded rates for ".concat(a)),({ETH:.001,BNB:.001,tBNB:.001,MATIC:.001,AVAX:.001,EDU:.001,ZOLLPTT:1})[a]||.001}catch(e){if(console.error("Error in getExchangeRate:",e),a.includes("USD"))return 1;return({ETH:.001,BNB:.001,tBNB:.001,MATIC:.001,AVAX:.001,EDU:.001,ZOLLPTT:1})[a]||.001}}var Q=t(28707),ee=t(75641);let ea=e=>{let{isOpen:a,onClose:t,onExchangeRateUpdate:i}=e,{address:o,isConnected:d,chainId:m}=(0,R.F)(),u=(0,L.e)(),[p,h]=(0,s.useState)(void 0),[g,b]=(0,s.useState)(null),[y,f]=(0,s.useState)(1),[k,w]=(0,s.useState)(!1),[v,N]=(0,s.useState)(!1),[C,A]=(0,s.useState)(null),[E,F]=(0,s.useState)(!0),S=(0,s.useRef)(null),T=(0,s.useRef)(Date.now());(0,s.useEffect)(()=>{var e,a;if(m){h(m);let e=q.f6[m]||[];if(e.length>0){let a=e[0];b(a),M(a,m)}else b(null),A("No tokens available for this chain")}else if(!m&&d){let a=j.Y6[0];h(a.id);let t=null==(e=q.f6[a.id])?void 0:e[0];t&&(b(t),M(t,a.id))}else{let e=j.Y6[0];h(e.id),b((null==(a=q.f6[e.id])?void 0:a[0])||null)}},[m,d]),(0,s.useEffect)(()=>(S.current&&(clearInterval(S.current),S.current=null),E&&g&&p&&a&&(S.current=setInterval(()=>{let e=Date.now();!k&&e-T.current>=3e4&&(console.log("Auto-updating exchange rate..."),T.current=e,M(g,p,!0))},5e3)),()=>{S.current&&(clearInterval(S.current),S.current=null)}),[E,g,p,a,k]),(0,s.useEffect)(()=>{a?F(!0):(F(!1),S.current&&(clearInterval(S.current),S.current=null))},[a]);let M=async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&a){t?w(!0):(w(!0),N(!1),A(null));try{let n;if(u&&"transport"in u&&"url"in u.transport)n=new Q.FR(u.transport.url);else{var r,s,l;let e=j.Y6.find(e=>e.id===a);if(!(null==e||null==(l=e.rpcUrls)||null==(s=l.default)||null==(r=s.http)?void 0:r[0]))throw Error("No RPC URL found for chain ".concat(a));n=new Q.FR(e.rpcUrls.default.http[0])}t||await new Promise(e=>setTimeout(e,800));let o=await $(n,e.symbol,a);f(o),i&&i(o,e.symbol),w(!1),t||(N(!0),setTimeout(()=>{N(!1)},3e3))}catch(r){console.error("Error fetching exchange rate:",r),t||A("Failed to fetch current exchange rate. Using estimated rate instead.");try{let t=await $(null,e.symbol,a);f(t),i&&i(t,e.symbol)}catch(t){let a=e.symbol.includes("USD")?1:.01;f(a),i&&i(a,e.symbol)}w(!1),t||(N(!0),setTimeout(()=>{N(!1),A(null)},3e3))}}};return a?d&&g&&p?(0,r.jsx)(n.N,{children:(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 dark:bg-black/90 bg-white/90 z-50 p-4 overflow-y-auto",onClick:t,children:(0,r.jsx)("div",{className:"relative w-full min-h-full flex items-center justify-center py-6",children:(0,r.jsx)(ee.F,{className:"dark:bg-black/60 border border-gray-200",children:(0,r.jsxs)(l.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"bg-transparent relative w-full max-w-md sm:max-w-lg md:max-w-lg",children:[(0,r.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-800/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,r.jsx)("div",{className:"p-2 sm:p-2.5 rounded-full bg-gray-100 dark:bg-gray-800/20 shadow-inner shadow-gray-200/50 dark:shadow-gray-700/10",children:(0,r.jsx)(D.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600 dark:text-gray-300"})}),(0,r.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black/70 dark:text-white tracking-tight",children:"Configure Payments"})]}),(0,r.jsx)(l.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",disabled:k,children:(0,r.jsx)(c.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),(0,r.jsxs)("div",{className:"p-4 sm:p-5 rounded-xl bg-white/50 dark:bg-gray-900/20 backdrop-blur-sm",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-purple-100 dark:bg-purple-900/10",children:(0,r.jsx)(_.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 dark:text-purple-300"})}),(0,r.jsx)("span",{className:"font-semibold text-sm sm:text-base text-black dark:text-white",children:"Wallet Connection"})]})}),(0,r.jsx)(I.pK.Custom,{children:e=>{let{account:a,chain:t,openAccountModal:s,openChainModal:n,openConnectModal:i,authenticationStatus:o,mounted:d}=e,c=d&&"loading"!==o,m=c&&a&&t;return(0,r.jsx)("div",{className:"w-full",...!c&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:(()=>{var e,o;return m?(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-all flex items-center justify-center gap-2",children:[t.hasIcon&&(0,r.jsx)("div",{className:"w-5 h-5 overflow-hidden rounded-full",children:t.iconUrl&&(0,r.jsx)("img",{alt:null!=(e=t.name)?e:"Chain icon",src:t.iconUrl,className:"w-5 h-5"})}),(0,r.jsx)("span",{children:null!=(o=t.name)?o:t.id})]}),(0,r.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-all flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-purple-500 to-blue-500"}),(0,r.jsx)("span",{children:a.displayName})]})]}):(0,r.jsx)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"w-full py-3 px-4 rounded-xl bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 dark:from-purple-500 dark:to-blue-500 dark:hover:from-purple-600 dark:hover:to-blue-600 text-white font-medium shadow-lg shadow-purple-500/20 dark:shadow-purple-800/20 transition-all",children:"Connect Wallet"})})()})}})]}),(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-5",children:[(0,r.jsxs)("div",{className:"p-4 sm:p-5 rounded-xl border border-gray-200 dark:border-gray-800/60 bg-white/50 dark:bg-gray-900/20 backdrop-blur-sm",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4 sm:mb-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-blue-100 dark:bg-blue-900/10",children:(0,r.jsx)(D.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-300"})}),(0,r.jsx)("span",{className:"font-semibold text-sm sm:text-base text-black dark:text-white",children:"Payment Token"})]}),(0,r.jsxs)("div",{className:"flex items-center px-2.5 py-1 rounded-full bg-blue-100 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-700/20",children:[(0,r.jsx)(B.A,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 mr-1.5 ".concat(k?"animate-spin text-blue-600 dark:text-blue-300":"text-blue-500 dark:text-blue-400")}),(0,r.jsx)("span",{className:"text-xs text-blue-800 dark:text-blue-200",children:"Auto-updates every 30s"})]})]}),(0,r.jsx)(Y,{tokens:q.f6[p]||[],selectedToken:g,onTokenChange:e=>{b(e),T.current=Date.now(),p&&M(e,p)},address:o,chainId:p,isConnected:d,isLoading:k,exchangeRate:y,onExchangeRateChange:()=>{}})]}),k&&!v&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border border-blue-300 dark:border-blue-700/20 bg-blue-50 dark:bg-blue-900/10 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-blue-100 dark:bg-blue-900/10",children:(0,r.jsx)(B.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-300 animate-spin"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm sm:text-base text-blue-700 dark:text-blue-300",children:"Fetching Price Feed"}),(0,r.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:["Getting latest Chainlink rate for ",null==g?void 0:g.symbol,"..."]})]})]})}),v&&!C&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border border-green-300 dark:border-green-700/20 bg-green-50 dark:bg-green-900/10 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-green-100 dark:bg-green-900/10",children:(0,r.jsx)(x.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-300"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm sm:text-base text-green-700 dark:text-green-300",children:"Rate Updated"}),(0,r.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:["1 USD = ",y.toFixed(6)," ",null==g?void 0:g.symbol]})]})]})}),C&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border border-red-300 dark:border-red-400/20 bg-red-50 dark:bg-red-400/10 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-red-100 dark:bg-red-400/10",children:(0,r.jsx)(U.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 dark:text-red-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm sm:text-base text-red-700 dark:text-red-400",children:"Update Failed"}),(0,r.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:[C," Using estimated rate."]})]})]})}),(0,r.jsx)("div",{className:"p-4 sm:p-5 rounded-lg border border-gray-200 dark:border-gray-700/20 bg-gray-50/50 dark:bg-gray-800/10 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-gray-200 dark:bg-gray-800/30 mt-0.5 flex-shrink-0",children:(0,r.jsx)(U.A,{className:"w-4 h-4 text-gray-600 dark:text-gray-300 flex-shrink-0"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-black dark:text-white font-medium text-sm sm:text-base mb-1.5 sm:mb-2",children:"About Exchange Rates"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm leading-relaxed",children:"Rates are fetched from Chainlink price feeds. Salaries are converted from USD to the selected token using this rate."})]})]})})]}),(0,r.jsx)("div",{className:"px-4 py-4 sm:px-6 sm:py-5 border-t border-gray-200 dark:border-gray-800/60 bg-gray-50/50 dark:bg-transparent backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-center sm:justify-end gap-3 sm:gap-4",children:[(0,r.jsx)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl border border-gray-300 dark:border-gray-700/80 bg-white dark:bg-gray-800/50 text-black dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-black dark:hover:text-white hover:border-gray-400 dark:hover:border-gray-600 transition-all duration-200 backdrop-blur-sm text-sm sm:text-base",disabled:k,children:k?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[" ",(0,r.jsx)(B.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Cancel"}),d&&(0,r.jsx)(l.P.button,{whileHover:k?{}:{scale:1.02},whileTap:k?{}:{scale:.98},onClick:()=>{F(!1),S.current&&(clearInterval(S.current),S.current=null),t()},disabled:k,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl transition-all font-medium text-sm sm:text-base\n                        ".concat(k?"bg-gradient-to-r from-gray-400/70 to-gray-500/70 dark:from-gray-600/40 dark:to-gray-700/40 text-white/70 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 dark:from-blue-500 dark:to-blue-600 dark:hover:from-blue-600 dark:hover:to-blue-700 text-white shadow-lg shadow-blue-500/20 dark:shadow-blue-800/20 hover:shadow-blue-500/30 dark:hover:shadow-blue-800/30"),children:k?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[" ",(0,r.jsx)(B.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Apply Settings"})]})})]})})})})}):(0,r.jsx)(n.N,{children:(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 dark:bg-black bg-white z-50 p-4 overflow-y-auto",children:(0,r.jsx)("div",{className:"relative w-full min-h-full flex items-center justify-center py-6",children:(0,r.jsx)(ee.F,{children:(0,r.jsx)(l.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},className:"relative w-full max-w-md sm:max-w-lg md:max-w-xl p-6 sm:p-8 rounded-xl bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col items-center text-center space-y-6",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/20",children:(0,r.jsx)(_.A,{className:"w-8 h-8 text-blue-600 dark:text-blue-300"})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white tracking-tight",children:"Connect Your Wallet"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base max-w-sm mx-auto",children:"Connect your wallet to configure payment settings and manage your payroll tokens."})]}),(0,r.jsx)("div",{className:"w-full max-w-xs mx-auto pt-2",children:(0,r.jsx)(I.pK.Custom,{children:e=>{let{account:a,chain:t,openConnectModal:s,mounted:n}=e;return(0,r.jsx)("div",{...!n&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}},children:(0,r.jsx)(l.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:s,className:"w-full py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium shadow-lg shadow-blue-500/20 dark:shadow-blue-800/20 transition-all",children:"Connect Wallet"})})}})})]})})})})})}):null};var et=t(81284),er=t(24357);let es=e=>{let{txError:a,isWritePending:t,isTxLoading:n,isTxSuccess:i,isTxError:o,approvalTxHash:d,isApproving:c,txHash:m,getExplorerUrl:h,needsApproval:g,selectedTokenSymbol:y,selectedEmployeesCount:f,chainId:k,onAutoClose:w}=e,[v,j]=(0,s.useState)(!1),[N,C]=(0,s.useState)({isProcessing:!1,isSuccess:!1,isError:!1,error:""});(0,s.useEffect)(()=>{if(50002===k&&m){let e=async()=>{try{if(!window.ethereum)throw Error("No provider available");let a=new G.k(window.ethereum);C(e=>({...e,isProcessing:!0}));let t=await a.getTransactionReceipt(m);if(t)1===t.status?C({isProcessing:!1,isSuccess:!0,isError:!1,error:""}):C({isProcessing:!1,isSuccess:!1,isError:!0,error:"Transaction failed"});else{C(e=>({...e,isProcessing:!0,isError:!1,isSuccess:!1}));let a=setTimeout(()=>e(),3e3);return()=>clearTimeout(a)}}catch(e){console.error("Error checking transaction status:",e),C({isProcessing:!1,isSuccess:!1,isError:!0,error:e instanceof Error?e.message:"Error checking transaction"})}};e()}},[m,k]),(0,s.useEffect)(()=>{if(50002===k&&d){let e=async()=>{try{if(!window.ethereum)return;let a=new G.k(window.ethereum);if(!await a.getTransactionReceipt(d)){C(e=>({...e,isProcessing:!0}));let a=setTimeout(()=>e(),3e3);return()=>clearTimeout(a)}}catch(e){console.error("Error checking approval status:",e)}};e()}},[d,k]);let A=async e=>{try{await navigator.clipboard.writeText(e),j(!0),setTimeout(()=>j(!1),2e3)}catch(e){console.error("Failed to copy: ",e)}};(0,s.useEffect)(()=>{if(v){let e=setTimeout(()=>j(!1),2e3);return()=>clearTimeout(e)}},[v]),(0,s.useEffect)(()=>{let e=50002===k?N.isSuccess:i,a=50002===k?N.isError:o;if((e||a)&&w){let e=setTimeout(()=>{w()},5e3);return()=>clearTimeout(e)}},[k,N.isSuccess,N.isError,i,o,w]);let E=50002===k?N.isProcessing||c:t||n||c,F=50002===k?N.isProcessing?"processing":N.isSuccess?"success":N.isError?"error":m?"complete":"idle":E?"processing":i?"success":o||a?"error":m?"complete":"idle",S=50002===k?N.error:a,T=50002===k?N.isError:o,M=50002===k?N.isSuccess:i;return(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-full bg-gradient-to-br overflow-scroll dark:from-gray-900 dark:to-black/95 backdrop-blur-xl border  border-[#a5b4fc]/20 rounded-xl p-4 md:p-5 lg:p-6 transition-all  shadow-lg shadow-black/60 hover:border-[#60a5fa]/30 h-full dark:text-white text-black",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-5",children:[(0,r.jsxs)("div",{className:"p-2 rounded-md ".concat("processing"===F?"bg-amber-500/20 animate-pulse":"success"===F?"bg-green-400/20":"error"===F?"bg-red-400/20":"bg-[#3b82f6]/20"),children:["processing"===F&&(0,r.jsx)(u.A,{className:"w-5 h-5 text-amber-400"}),"success"===F&&(0,r.jsx)(x.A,{className:"w-5 h-5 text-green-500"}),"error"===F&&(0,r.jsx)(p.A,{className:"w-5 h-5 text-red-400"}),"idle"===F&&(0,r.jsx)(et.A,{className:"w-5 h-5 text-[#93c5fd]"})]}),(0,r.jsx)("h2",{className:"text-lg font-bold  dark:text-white text-black ",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.4), 0 0 10px rgba(96, 165, 250, 0.2)"},children:"Transaction Status"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[S&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-red-400/10 border border-red-400/30  dark:text-white text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(U.A,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,r.jsx)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide max-w-[1080px] overflow-x-scroll",children:(0,r.jsx)("p",{className:"dark:text-white text-black",children:S})})]}),E&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-amber-500/10 border border-amber-500/30  dark:text-white text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 text-amber-400 animate-spin flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,r.jsx)("p",{className:"font-medium mb-1 ",children:c?"Approving ".concat(y,"..."):"Processing transaction..."}),(0,r.jsx)("p",{className:"dark:text-gray-300  text-gray-700",children:"Please wait while the transaction is being processed"})]})]}),M&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-green-400/10 border border-green-400/30  text-[#F2F2F2] rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(x.A,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,r.jsx)("p",{className:"font-medium mb-1 ",children:"Payment successful!"}),(0,r.jsx)("p",{className:"dark:text-gray-300 text-gray-700 ",children:f>0?"".concat(f," employee").concat(1!==f?"s":""," paid successfully"):"Transaction completed successfully"})]})]}),T&&!S&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-red-400/10 border border-red-400/30  dark:text-white  text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,r.jsx)("p",{className:"font-medium mb-1 ",children:"Transaction failed"}),(0,r.jsx)("p",{className:"text-gray-400 ",children:"The transaction could not be processed. Please try again."})]})]}),d&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-900/80 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,r.jsx)("p",{className:"text-gray-400 mb-2 text-sm ",children:"Approval Transaction:"}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("div",{className:"dark:text-white  text-black text-xs truncate bg-gray-900/80 p-2 rounded-xl flex-1 overflow-x-auto scrollbar-hide",children:d}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>A(d),className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"Copy to clipboard",children:v?(0,r.jsx)(x.A,{className:"w-4 h-4"}):(0,r.jsx)(er.A,{className:"w-4 h-4"})}),(0,r.jsx)("a",{href:h(d),target:"_blank",rel:"noopener noreferrer",className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"View on explorer",children:(0,r.jsx)(b.A,{className:"w-4 h-4"})})]})]})]}),m&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-900/80 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,r.jsx)("p",{className:"text-gray-400 mb-2 text-sm ",children:"Transaction Hash:"}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("div",{className:"text-[#F2F2F2] text-xs truncate bg-gray-900/80 p-2 rounded-xl flex-1 overflow-x-auto scrollbar-hide",children:m}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>A(m),className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"Copy to clipboard",children:v?(0,r.jsx)(x.A,{className:"w-4 h-4"}):(0,r.jsx)(er.A,{className:"w-4 h-4"})}),(0,r.jsx)("a",{href:h(m),target:"_blank",rel:"noopener noreferrer",className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"View on explorer",children:(0,r.jsx)(b.A,{className:"w-4 h-4"})})]})]})]}),g&&!E&&!M&&!T&&f>0&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-[#3b82f6]/10 border border-[#60a5fa]/30 rounded-xl text-sm flex items-start gap-2 backdrop-blur-sm",children:[(0,r.jsx)(et.A,{className:"w-5 h-5 text-[#93c5fd] flex-shrink-0 mt-0.5"}),(0,r.jsx)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:(0,r.jsxs)("p",{className:"text-[#F2F2F2] ",children:["This transaction requires approval to use ",y,". You'll need to confirm two transactions."]})})]}),!E&&!M&&!T&&!S&&!g&&!m&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center p-8 dark:bg-gray-900/80  bg:white/90 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,r.jsx)(u.A,{className:"w-10 h-10 text-gray-400 opacity-50 mb-2"}),(0,r.jsx)("p",{className:"text-gray-400 text-center",children:"No active transactions"})]})]})]})};var el=t(85213),en=t(95488),ei=t(21492),eo=t(44020),ed=t(92657),ec=t(13717),em=t(62525),ex=t(42355),eu=t(13052),ep=t(17576),eh=t(90437),eg=t(69074),eb=t(94631),ey=t(21934);let ef=e=>{let{isOpen:a,onClose:t,employee:i}=e,[o,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)([]),[h,g]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{a&&i&&i.wallet&&f(i.wallet)},[a,i]);let f=async e=>{try{g(!0),y(null);let a=await ey.U.getEmployeePayroll(e);if("success"===a.status&&a.data){let e=a.data.map(e=>({id:e.id,amount:e.amount,date:k(e.date),status:"completed"}));p(e)}else p([]),y("No payment history found")}catch(e){console.error("Error fetching payment history:",e),y("Failed to load payment history"),p([])}finally{g(!1)}},k=e=>{try{let a=new Date(e);return(0,v.A)(a,{addSuffix:!0})}catch(e){return"Unknown date"}};if(!a||!i)return null;let w={completed:"text-green-500 bg-green-400/10",pending:"text-amber-500 bg-amber-400/10",failed:"text-red-500 bg-red-400/10"},j=e=>{let{status:a}=e;return"completed"===a?(0,r.jsx)(x.A,{className:"w-4 h-4 text-green-700  dark:text-green-400"}):"pending"===a?(0,r.jsx)(u.A,{className:"w-4 h-4 text-amber-400"}):(0,r.jsx)(U.A,{className:"w-4 h-4 text-red-400"})},N=e=>e.length<=12?e:"".concat(e.slice(0,6),"...").concat(e.slice(-6)),C=async()=>{try{await navigator.clipboard.writeText(i.wallet),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}},A={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},exit:{y:-20,opacity:0,transition:{duration:.2}}},E={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},hover:{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}}};return(0,r.jsx)(n.N,{children:(0,r.jsx)(l.P.div,{className:"fixed inset-0 bg-black/50 dark:bg-black/80 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:t,initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2,when:"afterChildren",staggerChildren:.05,staggerDirection:-1}}},children:(0,r.jsxs)(l.P.div,{className:"bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:to-black/95 w-full max-w-3xl rounded-2xl border border-gray-200 dark:border-[#a5b4fc]/20 overflow-hidden shadow-2xl shadow-black/60 backdrop-blur-xl",onClick:e=>e.stopPropagation(),variants:A,children:[(0,r.jsxs)(l.P.div,{className:"p-6 border-b border-gray-200 dark:border-[#a5b4fc]/10 flex items-center justify-between",variants:A,children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-black dark:text-[#F2F2F2]",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.5), 0 0 10px rgba(96, 165, 250, 0.3)"},children:"Employee Profile"}),(0,r.jsx)("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",children:(0,r.jsx)(c.A,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-8",children:[(0,r.jsxs)(l.P.div,{className:"bg-gray-50 dark:bg-gray-900/80 rounded-xl p-6 border border-gray-200 dark:border-[#a5b4fc]/20 backdrop-blur-sm",variants:A,children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#3b82f6]/20 dark:to-[#60a5fa]/10 flex items-center justify-center border border-blue-200 dark:border-[#60a5fa]/20",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-700 dark:text-[#93c5fd]",children:i.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-black dark:text-[#F2F2F2] mb-1",children:i.name}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,r.jsx)(ep.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("span",{children:i.designation})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-[#3b82f6]/10 px-4 py-3 rounded-xl text-center border border-blue-100 dark:border-[#3b82f6]/20",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center text-blue-700 dark:text-[#93c5fd] mb-1",children:[(0,r.jsx)(D.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-bold text-lg",children:i.salary})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monthly Salary"})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-[#a5b4fc]/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,r.jsx)(_.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("span",{children:"Wallet Address"})]}),(0,r.jsx)("button",{onClick:C,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-[#93c5fd] transition-colors flex items-center gap-2","aria-label":"Copy wallet address",children:o?(0,r.jsxs)("span",{className:"flex items-center text-green-700 dark:text-green-400",children:[(0,r.jsx)(eh.A,{className:"w-4 h-4 mr-1"})," Copied!"]}):(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(er.A,{className:"w-4 h-4 mr-1"})," Copy"]})})]}),(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-900/90 p-3 rounded-lg border border-gray-200 dark:border-[#a5b4fc]/20",children:(0,r.jsx)("p",{className:"text-sm text-black dark:text-gray-300 break-all",children:i.wallet})})]})]}),(0,r.jsxs)(l.P.div,{variants:A,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(eg.A,{className:"w-5 h-5 text-blue-600 dark:text-[#93c5fd]"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-black dark:text-[#F2F2F2]",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.3), 0 0 10px rgba(96, 165, 250, 0.2)"},children:"Payment History"})]}),(0,r.jsx)("div",{className:"space-y-3 overflow-y-auto max-h-80 scrollbar-hide",children:h?(0,r.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,r.jsx)(eb.A,{className:"w-8 h-8 text-blue-600 dark:text-[#93c5fd] animate-spin"})}):b?(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 text-center text-gray-500 dark:text-gray-400 backdrop-blur-sm",children:[(0,r.jsx)(U.A,{className:"w-6 h-6 text-gray-400 dark:text-[#93c5fd]/50 mx-auto mb-2"}),(0,r.jsx)("p",{children:b})]}):0===m.length?(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 text-center text-gray-500 dark:text-gray-400 backdrop-blur-sm",children:[(0,r.jsx)(eg.A,{className:"w-6 h-6 text-gray-400 dark:text-[#93c5fd]/50 mx-auto mb-2"}),(0,r.jsx)("p",{children:"No payment history available"})]}):m.map(e=>(0,r.jsxs)(l.P.div,{className:"bg-white dark:bg-gray-900/80 rounded-xl p-4 border border-gray-200 dark:border-[#a5b4fc]/20 hover:border-gray-300 dark:hover:border-[#60a5fa]/30 backdrop-blur-sm",variants:E,whileHover:"hover",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(j,{status:e.status}),(0,r.jsxs)("span",{className:"font-medium text-black dark:text-[#F2F2F2]",children:["$",e.amount]})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.date})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,r.jsx)("span",{className:"text-xs px-3 py-1 rounded-full ".concat(w[e.status]),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:["TX: ",N(e.id)]})]})]},e.id))})]})]}),(0,r.jsx)(l.P.div,{className:"p-6 border-t border-gray-200 dark:border-[#a5b4fc]/10 flex justify-end bg-gray-50/50 dark:bg-transparent",variants:A,children:(0,r.jsx)("button",{onClick:t,className:"px-6 py-2 rounded-xl bg-white dark:bg-gray-900/80 hover:bg-gray-100 dark:hover:bg-gray-900 text-black dark:text-white transition-colors border border-gray-300 dark:border-[#a5b4fc]/20 hover:border-gray-400 dark:hover:border-[#60a5fa]/30 backdrop-blur-sm",children:"Close"})})]})})})};var ek=t(25495),ew=t(91659);let ev=[{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"designation",label:"Designation"},{key:"salary",label:"Salary"},{key:"wallet",label:"Wallet"},{key:"company",label:"Company"}],ej=e=>{var a;let{employees:t=[],selectedEmployees:n,toggleEmployeeSelection:i,usdToToken:o,selectedTokenSymbol:d,isLoading:m,deleteEmployeeById:x,onEditEmployee:u,exchangeRate:p,handleTransaction:b,isLoadingDerived:y,needsApproval:f,isApproving:k,isSending:w,isWritePending:v,isTxLoading:j,selectedToken:N,refreshEmployees:C}=e,[A,E]=(0,s.useState)(""),[F,S]=(0,s.useState)({key:"name",direction:"asc"}),[T,M]=(0,s.useState)(1),P="amount_".concat(d),_={key:P,label:"Amount (".concat(d,")")},B=(0,s.useMemo)(()=>[...ev,_,{key:"actions",label:"Actions"}],[d]),[U,I]=(0,s.useState)(()=>new Set(["name","designation","salary",P,"wallet","actions"]));(0,s.useEffect)(()=>{I(e=>{let a=new Set(e);for(e.forEach(e=>{"string"==typeof e&&e.startsWith("amount_")&&e!==P&&a.delete(e)}),!a.has(P)&&a.has("salary")&&a.add(P);a.size<3&&B.length>=3;){let e=B.find(e=>!a.has(e.key));if(e)a.add(e.key);else break}return a})},[P,B]);let[R,L]=(0,s.useState)(!1),z=(0,s.useRef)(null),[H,O]=(0,s.useState)(""),[W,V]=(0,s.useState)(null),[q,G]=(0,s.useState)(!1),[J,Y]=(0,s.useState)(!1),[Z,K]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=e=>{let a=e.target;if(z.current&&!z.current.contains(a)){let e=document.getElementById("columns-button");e&&e.contains(a)||L(!1)}};return R?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[R]);let X=(0,s.useMemo)(()=>t?t.filter(e=>Object.entries(e).some(e=>{let[a,t]=e;return("string"==typeof t||"number"==typeof t)&&t.toString().toLowerCase().includes(A.toLowerCase())})):[],[t,A]),$=(0,s.useMemo)(()=>F.key?[...X].sort((e,a)=>{let t=e[F.key],r=a[F.key];if("salary"===F.key){let e=parseFloat(String(t).replace(/[^0-9.-]+/g,""))||0,a=parseFloat(String(r).replace(/[^0-9.-]+/g,""))||0;return"asc"===F.direction?e-a:a-e}let s=String(null!=t?t:"").toLowerCase(),l=String(null!=r?r:"").toLowerCase();return"asc"===F.direction?s.localeCompare(l):l.localeCompare(s)}):X,[X,F]),Q=Math.ceil($.length/10),ee=(0,s.useMemo)(()=>$.slice((T-1)*10,10*T),[$,T]);(0,s.useEffect)(()=>{M(1)},[A,F]);let ea=e=>{S({key:e.target.value,direction:"asc"})},et=()=>{F.key&&S(e=>({...e,direction:"asc"===e.direction?"desc":"asc"}))},er=e=>{I(a=>{let t=new Set(a);return t.has(e)?t.size>3?t.delete(e):console.warn("Cannot hide more columns."):t.add(e),t})},es=(0,s.useMemo)(()=>0!==ee.length&&ee.every(e=>n.includes(e.wallet)),[ee,n]),ep=(0,s.useMemo)(()=>{let e=ee.filter(e=>n.includes(e.wallet)).length;return e>0&&e<ee.length},[ee,n]),eh=e=>{V(e),G(!0)},eg=t.filter(e=>n.includes(e.wallet)).reduce((e,a)=>e+parseFloat(a.salary||"0"),0),eb=o(eg.toString()),ey=()=>{if(0===n.length){O("Please select at least one employee to export"),setTimeout(()=>O(""),3e3);return}let e=t.filter(e=>n.includes(e.wallet)),a=["Name","Designation","Wallet Address","Salary (USD)","Amount (".concat(d,")")],r=e.map(e=>[e.name,e.designation,e.wallet,parseFloat(e.salary||"0").toFixed(2),o(e.salary||"0")]),s=new Blob([[a.join(","),...r.map(e=>e.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),i=document.createElement("a"),c=new Date().toISOString().split("T")[0];i.setAttribute("href",l),i.setAttribute("download","employee-payroll-".concat(c,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),O("Exported ".concat(n.length," employee").concat(1!==n.length?"s":"")),setTimeout(()=>O(""),3e3)};return(0,r.jsxs)("div",{className:"w-[90vw] xl:w-[75vw] h-full bg-transparent dark:text-white text-black shadow-sm rounded-lg overflow-hidden ",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-300 dark:border-gray-700 bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center",children:[(0,r.jsxs)("div",{className:"relative w-full lg:w-auto lg:flex-grow max-w-md",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search employees...",value:A,onChange:e=>E(e.target.value),className:"w-full px-4 py-2 pl-10 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),(0,r.jsx)(g.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"})]}),(0,r.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{id:"sort-select-desktop",value:null!=(a=F.key)?a:"",onChange:ea,className:"px-3 py-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Sort by column",children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),ev.map(e=>(0,r.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,r.jsx)("button",{onClick:et,disabled:!F.key,className:"p-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Sort direction: ".concat(F.direction),title:"Sort ".concat("asc"===F.direction?"Descending":"Ascending"),children:"asc"===F.direction?(0,r.jsx)(el.A,{className:"h-4 w-4"}):(0,r.jsx)(en.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{id:"columns-button-desktop",onClick:()=>L(e=>!e),className:"px-3 py-2 bg-white dark:bg-transparent border border-gray-400 dark:border-gray-600 rounded-md text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm","aria-haspopup":"true","aria-expanded":R,children:[(0,r.jsx)(ei.A,{className:"w-4 h-4"})," Columns"]}),R&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/30 backdrop-blur-sm",onClick:()=>L(!1),children:(0,r.jsxs)("div",{ref:z,onClick:e=>e.stopPropagation(),className:"relative w-80 p-4 bg-white/80 dark:bg-black/70 backdrop-blur-lg rounded-lg shadow-xl border border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center",children:[(0,r.jsx)("button",{onClick:()=>L(!1),className:"absolute top-2 right-2 text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white","aria-label":"Close column menu",children:(0,r.jsx)(c.A,{className:"h-5 w-5"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-3 text-black dark:text-white",children:"Visible Columns"}),(0,r.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,r.jsxs)("label",{className:"flex items-center px-2 py-1.5 cursor-pointer text-lg text-black dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-700",children:[(0,r.jsx)("input",{type:"checkbox",checked:U.has(e.key),onChange:()=>er(e.key),disabled:U.has(e.key)&&U.size<=3,className:"\n                                                                    appearance-none\n                                                                    mr-2 h-4 w-4\n                                                                    rounded-sm\n                                                                    border-2 dark:border-white\n                                                                    bg-transparent\n                                                                    dark:checked:bg-gray-100\n                                                                    dark:checked:border-gray-800 checked:bg-indigo-600\n                                                                    transition-colors duration-200\n                                                                    disabled:opacity-50\n                                                                "}),e.label]},e.key))})]})})]}),(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-transparent rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-indigo-600 dark:text-indigo-300 font-bold text-sm",children:["1 USD = ",p.toFixed(6)," ",d]})}),(0,r.jsxs)("button",{onClick:ey,className:"px-3 py-2 bg-white dark:bg-gray-900/40 border border-gray-400 dark:border-gray-600 rounded-md text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm\n                                       ".concat(0===n.length?"cursor-not-allowed opacity-50":"hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Export selected employees",title:0===n.length?"Select employees to export":"Export ".concat(n.length," selected employee(s)"),disabled:0===n.length||m||y,children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),(0,r.jsx)("span",{children:"Export"})]}),(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-transparent rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-black dark:text-white text-sm",children:[n.length," / ",t.length]})})]}),(0,r.jsxs)("div",{className:"lg:hidden flex items-center gap-3 w-full justify-end",children:[(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-black dark:text-white text-sm",children:[n.length," / ",t.length]})}),(0,r.jsxs)(ek.W1,{as:"div",className:"relative inline-block text-left",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(ek.W1.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-400 dark:border-gray-600 shadow-sm px-3 py-2 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500",children:[(0,r.jsx)(eo.A,{className:"h-5 w-5","aria-hidden":"true"}),(0,r.jsx)("span",{className:"sr-only",children:"More options"})]})}),(0,r.jsx)(ew.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(ek.W1.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-700 ring-opacity-5 focus:outline-none z-20",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-xs uppercase text-gray-500 dark:text-gray-400",children:"Sort"}),(0,r.jsx)(ek.W1.Item,{children:e=>{var a;let{active:t}=e;return(0,r.jsxs)("div",{className:"px-4 py-2 flex items-center gap-2",children:[(0,r.jsxs)("select",{id:"sort-select-mobile",value:null!=(a=F.key)?a:"",onChange:ea,className:"w-full px-3 py-1.5 rounded-md border border-gray-400 dark:border-gray-600 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 ".concat(t?"bg-gray-100 dark:bg-gray-700":"bg-white dark:bg-gray-800"," text-black dark:text-white"),"aria-label":"Sort by column",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),ev.map(e=>(0,r.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),et()},disabled:!F.key,className:"p-1.5 rounded-md border border-gray-400 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:opacity-50 ".concat(t?"bg-gray-100 dark:bg-gray-700":"bg-white dark:bg-gray-800"," text-black dark:text-white"),"aria-label":"Sort direction: ".concat(F.direction),children:"asc"===F.direction?(0,r.jsx)(el.A,{className:"h-4 w-4"}):(0,r.jsx)(en.A,{className:"h-4 w-4"})})]})}}),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,r.jsx)(ek.W1.Item,{children:e=>{let{active:a}=e;return(0,r.jsxs)("button",{onClick:()=>L(!0),className:"".concat(a?"bg-gray-100 dark:bg-gray-700":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-900 dark:text-gray-200"),children:[(0,r.jsx)(ei.A,{className:"mr-3 h-5 w-5 text-gray-500 dark:text-gray-400","aria-hidden":"true"}),"Columns"]})}}),(0,r.jsx)(ek.W1.Item,{disabled:0===n.length||m||y,children:e=>{let{active:a,disabled:t}=e;return(0,r.jsxs)("button",{onClick:ey,disabled:t,className:"".concat(a&&!t?"bg-gray-100 dark:bg-gray-700":""," ").concat(t?"opacity-50 cursor-not-allowed":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-900 dark:text-gray-200"),children:[(0,r.jsx)(h.A,{className:"mr-3 h-5 w-5 text-indigo-600 dark:text-indigo-400","aria-hidden":"true"}),"Export Selected"]})}}),(0,r.jsx)(ek.W1.Item,{children:e=>{let{active:a}=e;return(0,r.jsxs)("div",{className:"".concat(a?"bg-gray-100 dark:bg-gray-700":""," px-4 py-2 text-sm text-gray-700 dark:text-gray-300"),children:["1 USD = ",p.toFixed(4)," ",d]})}})]})})})]})]})]})}),H&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"m-2 p-3 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg text-sm font-medium text-center border border-indigo-300 dark:border-indigo-700",children:H}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-[640px] sm:min-w-[768px] font-sans",children:[(0,r.jsx)("thead",{className:"bg-transparent dark:text-white text-black border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-2 sm:px-4 py-3 w-10 sm:w-12",children:(0,r.jsx)("input",{type:"checkbox",checked:es,ref:e=>{e&&(e.indeterminate=ep)},onChange:e=>{let a=e.target.checked;ee.forEach(e=>{let t=n.includes(e.wallet);(a&&!t||!a&&t)&&i(e.wallet)})},disabled:m||y||0===ee.length,className:"\n                                        appearance-none\n                                        h-4 w-4\n                                        rounded-sm\n                                        border-2 border-gray-400 dark:border-white\n                                        bg-transparent\n                                        checked:bg-indigo-600 checked:border-indigo-600\n                                        dark:checked:bg-indigo-500 dark:checked:border-indigo-500\n                                        transition-colors duration-200\n                                        disabled:opacity-50\n                                        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 dark:focus:ring-offset-gray-900\n                                    ","aria-label":"Select all employees on this page"})}),B.filter(e=>U.has(e.key)).map(e=>(0,r.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap\n                                            ".concat("salary"===e.key||e.key===P?"text-right":"text-left","\n                                            ").concat("actions"===e.key?"text-center w-24 sm:w-32":"","\n                                            ").concat("email"===e.key||"company"===e.key?"hidden md:table-cell":"","\n                                            ").concat("wallet"===e.key?"hidden lg:table-cell":"","\n                                            "),children:"salary"===e.key?"Salary (USD)":e.key===P?"Amount (".concat(d,")"):e.label},e.key))]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-900 bg-transparent",children:[m&&0===ee.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:U.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"Loading employees..."})}),!m&&0===$.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:U.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"No employees added yet."})}),!m&&$.length>0&&0===ee.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:U.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"No employees match your search/filters."})}),ee.map((e,a)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-800/20 transition-colors ".concat(n.includes(e.wallet)?"bg-indigo-50 dark:bg-indigo-900/30":""),children:[(0,r.jsx)("td",{className:"px-2 sm:px-4 py-3",children:(0,r.jsx)("input",{type:"checkbox",checked:n.includes(e.wallet),onChange:()=>i(e.wallet),disabled:m||y,className:"\n                                            appearance-none\n                                            h-4 w-4\n                                            rounded-sm\n                                            border-2 border-gray-400 dark:border-white\n                                            bg-transparent\n                                            checked:bg-indigo-600 checked:border-indigo-600\n                                            dark:checked:bg-indigo-500 dark:checked:border-indigo-500\n                                            transition-colors duration-200\n                                            disabled:opacity-50\n                                            focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 dark:focus:ring-offset-gray-900\n                                        ","aria-label":"Select employee ".concat(e.name)})}),B.filter(e=>U.has(e.key)).map(a=>{var t;return(0,r.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm sm:text-base text-black dark:text-white whitespace-nowrap align-middle\n                                                ".concat("salary"===a.key||a.key===P?"text-right font-medium":"text-left","\n                                                ").concat("actions"===a.key?"text-center":"","\n                                                ").concat("email"===a.key||"company"===a.key?"hidden md:table-cell":"","\n                                                ").concat("wallet"===a.key?"hidden lg:table-cell text-xs text-gray-500 dark:text-gray-400":"","\n                                                ").concat(a.key===P?"text-indigo-600 dark:text-indigo-400 font-semibold":"","\n                                                ").concat("name"===a.key?"group cursor-pointer font-medium":"","\n                                                "),title:"wallet"===a.key?e.wallet:void 0,onClick:"name"===a.key?()=>eh(e):void 0,children:"actions"===a.key?(0,r.jsxs)("div",{className:"flex justify-center space-x-1 sm:space-x-2",children:[(0,r.jsx)("button",{onClick:()=>eh(e),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 p-1 rounded disabled:opacity-50",disabled:m||y,title:"View Details",children:(0,r.jsx)(ed.A,{className:"h-4 w-4"})}),u&&(0,r.jsx)("button",{onClick:()=>u(e),className:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-800 dark:hover:text-yellow-300 p-1 rounded disabled:opacity-50",disabled:m||y,title:"Edit employee",children:(0,r.jsx)(ec.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>x(e.wallet),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-1 rounded disabled:opacity-50",disabled:m||y,title:"Delete employee",children:(0,r.jsx)(em.A,{className:"h-4 w-4"})})]}):"name"===a.key?(0,r.jsxs)("div",{className:"flex items-center gap-2 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:[e.name||"N/A",(0,r.jsx)(ed.A,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-500 dark:text-indigo-400"})]}):"salary"===a.key?"$".concat(parseFloat(e.salary||"0").toFixed(2)):"wallet"===a.key?"".concat(e.wallet.substring(0,6),"...").concat(e.wallet.substring(e.wallet.length-4)):a.key===P?o(e.salary||"0"):null!=(t=e[a.key])?t:"N/A"},"".concat(e.wallet,"-").concat(a.key))})]},e.wallet||a))]}),n.length>0&&(0,r.jsx)("tfoot",{children:(0,r.jsxs)("tr",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[(0,r.jsxs)("td",{colSpan:Array.from(U).filter(e=>"salary"!==e&&e!==P&&"actions"!==e).length+1,className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-gray-600 dark:text-gray-300 font-medium text-xs sm:text-sm",children:["Total (",n.length,"):"]}),U.has("salary")&&(0,r.jsxs)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-indigo-700 dark:text-indigo-300 font-bold text-xs sm:text-sm",children:["$",eg.toFixed(2)]}),U.has(P)&&(0,r.jsxs)("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-indigo-700 dark:text-indigo-300 font-bold text-xs sm:text-sm",children:[eb," ",d]}),U.has("actions")&&(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 sm:py-3"})]})})]})}),(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-300 dark:border-gray-700 bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-sm text-black dark:text-white order-2 md:order-1 text-center md:text-left",children:["Showing"," ",(0,r.jsx)("span",{className:"font-medium",children:$.length>0?Math.min((T-1)*10+1,$.length):0})," ","to"," ",(0,r.jsx)("span",{className:"font-medium",children:Math.min(10*T,$.length)})," ","of"," ",(0,r.jsx)("span",{className:"font-medium",children:$.length})," ","entries ",A&&"(filtered)"]}),Q>1&&(0,r.jsxs)("div",{className:"inline-flex items-center -space-x-px rounded-md shadow-sm order-1 md:order-2",children:[(0,r.jsx)("button",{onClick:()=>M(e=>Math.max(1,e-1)),disabled:1===T||m||y,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-600 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:(0,r.jsx)(ex.A,{className:"h-5 w-5"})}),(0,r.jsxs)("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-black dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 bg-white dark:bg-gray-800",children:["Page ",T," of ",Q]}),(0,r.jsx)("button",{onClick:()=>M(e=>Math.min(Q,e+1)),disabled:T===Q||m||y,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-600 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:(0,r.jsx)(eu.A,{className:"h-5 w-5"})})]}),(0,r.jsx)(l.P.div,{className:"w-[80%] sm:w-[60%] md:w-auto order-3 mt-4 md:mt-0",whileHover:{scale:n.length>0&&!y?1.02:1},whileTap:{scale:n.length>0&&!y?.98:1},transition:{duration:.2},children:(0,r.jsxs)("button",{onClick:b,disabled:y||0===n.length||m,className:"w-full px-1 py-2 sm:px-6 sm:py-3 rounded-xl font-medium sm:text-base text-sm transition-all flex items-center justify-center gap-3\n                      ".concat(y||0===n.length||m?"bg-gray-300 dark:bg-gray-900/50 text-gray-500 dark:text-gray-300 cursor-not-allowed border border-gray-400 dark:border-gray-600":"bg-gradient-to-r from-[#4890e9] to-[#3b82f6] text-white hover:from-[#3b82f6] hover:to-[#2563eb] shadow-lg shadow-[#3b82f6]/20 hover:shadow-[#3b82f6]/30"),children:[(0,r.jsx)(D.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:k?"Approving ".concat(d||(null==N?void 0:N.symbol),"..."):w||v||j?"Processing...":0===n.length?"Select Employees":f&&(null==N?void 0:N.address)!=="NATIVE_ADDRESS"?"Approve & Send":"Pay Selected (".concat(n.length,")")})]})})]})}),(0,r.jsx)(ef,{isOpen:q,onClose:()=>{G(!1),V(null)},employee:W})]})},eN=e=>{let{exchangeRate:a=1,selectedTokenSymbol:t,employees:s,isConnected:i,selectedEmployees:o,toggleEmployeeSelection:d,toggleAllEmployees:c,allEmployeesSelected:m,handleTransaction:x,usdToToken:u,isLoadingDerived:p,needsApproval:h,isApproving:g,isSending:b,isWritePending:y,isTxLoading:f,isTxSuccess:k,isTxError:w,txHash:v,txError:j,approvalTxHash:N,showPaymentStatus:C,hasTransactionActivity:A,getExplorerUrl:E,selectedToken:F,handleAddEmployeeClick:S,handleEditEmployee:T,deleteEmployeeById:M,selectedChain:P,handleAutoClose:D}=e;return(0,r.jsx)("div",{className:"max-h-screen w-[90vw] flex flex-col items-center justify-center md:mt-10",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(l.P.div,{className:"space-y-6",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,r.jsx)(n.N,{children:C&&A&&(0,r.jsx)(l.P.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:24},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.3},children:(0,r.jsx)(es,{txError:j,isWritePending:y,isTxLoading:f,isTxSuccess:k,isTxError:w,approvalTxHash:N,isApproving:g,txHash:v,getExplorerUrl:E,needsApproval:h,selectedTokenSymbol:null==F?void 0:F.symbol,selectedEmployeesCount:o.length,chainId:P.id,onAutoClose:D})})})}),(0,r.jsx)(l.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5},children:i?(0,r.jsx)(ej,{employees:s,selectedEmployees:o,toggleEmployeeSelection:d,usdToToken:u,selectedTokenSymbol:t||(null==F?void 0:F.symbol),isLoading:p,exchangeRate:a,deleteEmployeeById:M,onEditEmployee:T,handleTransaction:x,isLoadingDerived:p,needsApproval:h,isApproving:g,isSending:b,isWritePending:y,isTxLoading:f,selectedToken:F}):(0,r.jsxs)(l.P.div,{className:"dark:bg-black rounded-lg p-12 border flex flex-col items-center justify-center space-y-6 text-center",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},children:[(0,r.jsx)("div",{className:"p-4 bg-[#60DFCD]/10 rounded-full border border-[#60DFCD]/30",children:(0,r.jsx)(_.A,{className:"w-12 h-12 text-[#60DFCD]"})}),(0,r.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Connect Your Wallet"}),(0,r.jsx)("p",{className:"text-[#486581]",children:"Connect your wallet to start managing employee payments with cryptocurrency"})]})]})})]})})};var eC=t(82714),eA=t(89852),eE=t(53999),eF=t(12168),eS=t(64261),eT=t(5196);let eM=e=>{let{isOpen:a,onClose:t,onUploadSuccess:i}=e,[o,d]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),[u,g]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null),f=(0,s.useRef)(null),k=e=>{e.preventDefault(),e.stopPropagation(),d("dragenter"===e.type||"dragover"===e.type)},w=e=>{var a;y(null);let t=null==(a=e.name.split(".").pop())?void 0:a.toLowerCase();return t&&["csv","xls","xlsx"].includes(t)?e.size>5242880?void y({success:!1,message:"File too large",details:["Maximum file size is 5MB"]}):void x(e):void y({success:!1,message:"Invalid file format",details:["Please upload a CSV or Excel file (.csv, .xls, .xlsx)"]})},v=async()=>{var e,a,r,s,l;if(!m)return void y({success:!1,message:"No file selected",details:["Please select a file to upload"]});try{g(!0),y(null);let a=new FormData;a.append("file",m);let r=await ey.U.bulkUploadEmployees(a);"success"===r.status?(y({success:!0,message:"Upload successful",details:["".concat((null==(e=r.data)?void 0:e.uploadedCount)||"Multiple"," employees added successfully.")]}),setTimeout(()=>{i(),setTimeout(()=>t(),1500)},1500)):y({success:!1,message:"Upload failed",details:r.errors||[r.message||"Unknown error occurred"]})}catch(e){console.error("Upload error:",e),y({success:!1,message:"Upload failed",details:(null==(r=e.response)||null==(a=r.data)?void 0:a.errors)||[(null==(l=e.response)||null==(s=l.data)?void 0:s.message)||e.message||"Unknown error occurred"]})}finally{g(!1)}};return a?(0,r.jsx)(n.N,{children:(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 dark:bg-black/90 bg-white/90 z-50 p-4 overflow-y-auto",onClick:t,children:(0,r.jsx)("div",{className:"relative w-full min-h-full flex items-center justify-center py-6",children:(0,r.jsx)(ee.F,{children:(0,r.jsxs)(l.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"bg-transparent relative w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",children:[(0,r.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-800/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,r.jsx)("div",{className:"p-2 sm:p-2.5 rounded-full bg-gray-100 dark:bg-gray-800/20 shadow-inner shadow-gray-200/50 dark:shadow-gray-700/10",children:(0,r.jsx)(F.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600 dark:text-gray-300"})}),(0,r.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black dark:text-white tracking-tight",children:"Bulk Upload Employees"})]}),(0,r.jsx)(l.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",children:(0,r.jsx)(c.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/40 backdrop-blur-sm rounded-xl p-4 sm:p-5 border border-gray-200 dark:border-gray-800/60 flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gray-200 dark:bg-gray-800/50 flex items-center justify-center border border-gray-300 dark:border-gray-700/50 flex-shrink-0",children:(0,r.jsx)(eS.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700 dark:text-gray-300"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-black dark:text-white text-base sm:text-lg mb-1",children:"Download Template"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base mb-2 sm:mb-3",children:"Use our template to ensure your data is formatted correctly"}),(0,r.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{let e=new Blob(["name,email,designation,salary,wallet\nJohn Doe,john@example.com,Developer,5000,0x1234567890abcdef1234567890abcdef12345678\nJane Smith,jane@example.com,Designer,4500,0xabcdef1234567890abcdef1234567890abcdef12"],{type:"text/csv"}),a=window.URL.createObjectURL(e),t=document.createElement("a");t.setAttribute("hidden",""),t.setAttribute("href",a),t.setAttribute("download","employee_template.csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex items-center text-sm sm:text-base",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-1.5 sm:mr-2"}),(0,r.jsx)("span",{className:"font-medium",children:"Download Template"})]})]})]}),(0,r.jsxs)("div",{className:"relative border-2 border-dashed rounded-xl p-6 sm:p-8 text-center transition-colors backdrop-blur-sm ".concat(o?"border-gray-500 dark:border-gray-400 bg-gray-50 dark:bg-gray-800/30":m?"border-gray-400 dark:border-gray-500/40 bg-gray-50/50 dark:bg-gray-800/20":"border-gray-300 dark:border-gray-700/50 hover:border-gray-400 dark:hover:border-gray-600/70 bg-gray-50/50 dark:bg-gray-900/20"),onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files.length>0&&w(e.dataTransfer.files[0])},children:[(0,r.jsx)("input",{ref:f,type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{e.target.files&&e.target.files.length>0&&w(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Upload CSV or Excel file",title:"Upload employee data file",disabled:u}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto flex items-center justify-center border ".concat(m?"bg-gray-200 dark:bg-gray-800/40 border-gray-300 dark:border-gray-700/50":"bg-gray-100 dark:bg-gray-900/60 border-gray-300 dark:border-gray-700/50"),children:u?(0,r.jsx)(eb.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400 animate-spin"}):m?(0,r.jsx)(eT.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"}):(0,r.jsx)(F.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-base sm:text-lg text-black dark:text-white mb-1 sm:mb-2 break-words",children:m?m.name:"Drop your file here"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:m?"".concat((m.size/1024).toFixed(1),"KB - ").concat(m.type):"Support for CSV and Excel files"}),m&&!u&&(0,r.jsx)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{x(null),y(null),f.current&&(f.current.value="")},className:"text-red-600 dark:text-red-400 text-xs sm:text-sm hover:text-red-700 dark:hover:text-red-300 transition-colors mt-2 sm:mt-3",children:"Remove file"})]})]})]}),b&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border ".concat(b.success?"bg-green-50 dark:bg-green-900/10 border-green-300 dark:border-green-700/20":"bg-red-50 dark:bg-red-400/10 border-red-300 dark:border-red-400/20"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full ".concat(b.success?"bg-green-100 dark:bg-green-900/10":"bg-red-100 dark:bg-red-400/10"),children:b.success?(0,r.jsx)(eT.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-300"}):(0,r.jsx)(p.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 dark:text-red-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm sm:text-base ".concat(b.success?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-400"),children:b.message}),b.details&&b.details.length>0&&(0,r.jsx)("ul",{className:"list-disc pl-4 sm:pl-5 mt-1.5 sm:mt-2 space-y-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:b.details.map((e,a)=>(0,r.jsx)("li",{children:e},a))})]})]})}),(0,r.jsx)("div",{className:"p-4 sm:p-5 rounded-lg border border-gray-200 dark:border-gray-700/20 bg-gray-50/50 dark:bg-gray-800/10 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-gray-200 dark:bg-gray-800/30 mt-0.5 flex-shrink-0",children:(0,r.jsx)(U.A,{className:"w-4 h-4 text-gray-600 dark:text-gray-300 flex-shrink-0"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-black dark:text-white font-medium text-sm sm:text-base mb-1.5 sm:mb-2",children:"Important Guidelines"}),(0,r.jsxs)("ul",{className:"list-disc pl-4 sm:pl-5 space-y-1 text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:[(0,r.jsx)("li",{children:"Required fields: name, email, designation, salary, wallet"}),(0,r.jsx)("li",{children:"Wallet addresses must be valid Ethereum addresses"}),(0,r.jsx)("li",{children:"Maximum 100 employees per upload"}),(0,r.jsx)("li",{children:"File size should not exceed 5MB"})]})]})]})})]}),(0,r.jsx)("div",{className:"px-4 py-4 sm:px-6 sm:py-5 border-t border-gray-200 dark:border-gray-800/60 bg-gray-50/50 dark:bg-transparent backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-center sm:justify-end gap-3 sm:gap-4",children:[(0,r.jsx)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl border border-gray-300 dark:border-gray-700/80 bg-white dark:bg-gray-800/50 text-black dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-black dark:hover:text-white hover:border-gray-400 dark:hover:border-gray-600 transition-all duration-200 backdrop-blur-sm text-sm sm:text-base",disabled:u,children:"Cancel"}),(0,r.jsx)(l.P.button,{whileHover:u||!m||(null==b?void 0:b.success)?{}:{scale:1.02},whileTap:u||!m||(null==b?void 0:b.success)?{}:{scale:.98},onClick:v,disabled:!m||u||(null==b?void 0:b.success)===!0,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl transition-all font-medium text-sm sm:text-base\n                    ".concat(!m||u||(null==b?void 0:b.success)===!0?"bg-gradient-to-r from-gray-400/70 to-gray-500/70 dark:from-gray-600/40 dark:to-gray-700/40 text-white/70 cursor-not-allowed":"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 dark:from-gray-600 dark:to-gray-700 dark:hover:from-gray-500 dark:hover:to-gray-600 text-white shadow-lg shadow-gray-500/20 dark:shadow-gray-800/20 hover:shadow-gray-500/30 dark:hover:shadow-gray-800/30"),children:u?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(eb.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):(null==b?void 0:b.success)?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(eT.A,{className:"w-4 h-4 mr-2"}),"Uploaded"]}):"Upload & Process"})]})})]})})})})}):null},eP=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"absolute inset-x-0 -bottom-px block h-px w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-0 transition duration-500 group-hover/btn:opacity-100"}),(0,r.jsx)("span",{className:"absolute inset-x-10 -bottom-px mx-auto block h-px w-1/2 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-0 blur-sm transition duration-500 group-hover/btn:opacity-100"})]}),eD=e=>{let{children:a,className:t}=e;return(0,r.jsx)("div",{className:(0,eE.cn)("flex w-full flex-col space-y-2",t),children:a})},e_=e=>{var a,t;let{isOpen:i,onClose:o,onAddEmployee:d,onUpdateEmployee:m,editEmployee:x,onUploadSuccess:u}=e,{user:p}=(0,M.A)(),[h,g]=(0,s.useState)(!1),[b,y]=(0,s.useState)({}),[f,k]=(0,s.useState)({name:"",designation:"",wallet:"",salary:"",email:"",company:(null==p||null==(a=p.company)?void 0:a.toString())||""}),w=!!x;(0,s.useEffect)(()=>{var e,a;x?k({name:x.name,designation:x.designation,wallet:x.wallet,salary:x.salary,email:x.email||"",company:(null==p||null==(e=p.company)?void 0:e.toString())||""}):i&&(k({name:"",designation:"",wallet:"",salary:"",email:"",company:(null==p||null==(a=p.company)?void 0:a.toString())||""}),y({}))},[x,p,i]);let v=e=>{let{name:a,value:t}=e.target;k(e=>{var r;return{...e,[a]:t,company:(null==p||null==(r=p.company)?void 0:r.toString())||""}}),b[a]&&y(e=>({...e,[a]:void 0}))};return i?(0,r.jsx)(n.N,{children:i&&(0,r.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 w-screen h-screen bg-black/50 z-50",onClick:o,children:[(0,r.jsxs)(l.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"flex relative w-full h-full items-center justify-center bg-white/90 dark:bg-black/90 md:p-4",children:[(0,r.jsx)(eF.n,{}),(0,r.jsxs)(l.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"shadow-input relative w-full md:max-w-4xl rounded-none bg-white md:rounded-xl p-4 md:p-8 dark:bg-black",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-200",children:w?"Edit Employee":"Add New Employee"}),(0,r.jsx)("button",{onClick:o,"aria-label":"Close",children:(0,r.jsx)(c.A,{className:"text-neutral-500 hover:text-red-500"})})]}),(0,r.jsxs)("form",{className:"my-8",onSubmit:e=>{e.preventDefault();let a={};if(Object.entries(f).forEach(e=>{let[t,r]=e;r.toString().trim()||(a[t]="This field is required")}),Object.keys(a).length)return void y(a);w&&m?m(x.wallet,f):d(f),o()},children:[(0,r.jsxs)("div",{className:"mb-4 flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[(0,r.jsxs)(eD,{children:[(0,r.jsx)(eC.J,{htmlFor:"name",children:"Name"}),(0,r.jsx)(eA.p,{id:"name",name:"name",placeholder:"John Doe",value:f.name,onChange:v,className:(0,eE.cn)(b.name&&"border-red-500 focus:ring-red-500")}),b.name&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.name})]}),(0,r.jsxs)(eD,{children:[(0,r.jsx)(eC.J,{htmlFor:"company",children:"Company"}),(0,r.jsx)(eA.p,{id:"company",name:"company",value:(null==p||null==(t=p.company)?void 0:t.toString())||"",disabled:!0,className:"opacity-60 cursor-not-allowed"})]})]}),(0,r.jsxs)("div",{className:"mb-4 flex flex-col space-y-4",children:[(0,r.jsxs)(eD,{children:[(0,r.jsx)(eC.J,{htmlFor:"designation",children:"Designation"}),(0,r.jsx)(eA.p,{id:"designation",name:"designation",placeholder:"Senior Developer",value:f.designation,onChange:v,className:(0,eE.cn)(b.designation&&"border-red-500 focus:ring-red-500")}),b.designation&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.designation})]}),(0,r.jsxs)(eD,{children:[(0,r.jsx)(eC.J,{htmlFor:"email",children:"Email"}),(0,r.jsx)(eA.p,{id:"email",name:"email",type:"email",placeholder:"john@abc.com",value:f.email,onChange:v,className:(0,eE.cn)(b.email&&"border-red-500 focus:ring-red-500")}),b.email&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.email})]}),(0,r.jsxs)(eD,{children:[(0,r.jsx)(eC.J,{htmlFor:"wallet",children:"Wallet Address"}),(0,r.jsx)(eA.p,{id:"wallet",name:"wallet",placeholder:"0x...",value:f.wallet,onChange:v,className:(0,eE.cn)(b.wallet&&"border-red-500 focus:ring-red-500")}),b.wallet&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.wallet})]}),(0,r.jsxs)(eD,{children:[(0,r.jsx)(eC.J,{htmlFor:"salary",children:"Salary (USD)"}),(0,r.jsx)(eA.p,{id:"salary",name:"salary",placeholder:"5000",value:f.salary,onChange:v,className:(0,eE.cn)(b.salary&&"border-red-500 focus:ring-red-500")}),b.salary&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b.salary})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex md:flex-row flex-col md:space-x-4 space-y-3",children:[(0,r.jsxs)("button",{type:"button",onClick:o,className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:["Cancel",(0,r.jsx)(eP,{})]}),(0,r.jsxs)("button",{type:"submit",className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:[w?"Update Employee":"Add Employee",(0,r.jsx)(eP,{})]})]}),(0,r.jsx)("div",{className:"w-full flex items-center justify-center",children:!w&&(0,r.jsxs)("button",{type:"button",onClick:()=>g(!0),className:"group/btn shadow-input relative flex h-10 w-80 items-center justify-center space-x-2 rounded-md bg-gray-800 px-4 font-medium text-black dark:bg-zinc-900 dark:shadow-[0px_0px_1px_1px_#262626]",children:[(0,r.jsx)(F.A,{className:"h-4 w-4 text-neutral-200 dark:text-neutral-300"}),(0,r.jsx)("span",{className:"text-sm text-neutral-200 dark:text-neutral-300",children:"Bulk Upload"}),(0,r.jsx)(eP,{})]})})]})]})]})]}),(0,r.jsx)(eM,{isOpen:h,onClose:()=>g(!1),onUploadSuccess:u})]},"modal-overlay")}):null};var eB=t(31530);let eU=JSON.parse('{"H":[{"inputs":[],"name":"InsufficientAllowance","type":"error"},{"inputs":[],"name":"InsufficientBalance","type":"error"},{"inputs":[],"name":"LengthMismatch","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"inputs":[],"name":"RefundFailed","type":"error"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},{"inputs":[],"name":"TransferFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalRecipients","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalAmount","type":"uint256"}],"name":"BulkTransferExecuted","type":"event"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address[]","name":"recipients","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"bulkTransfer","outputs":[],"stateMutability":"payable","type":"function"}]}');var eI=t(14493),eR=t(53031),eL=t(89769),ez=t(27493),eH=t(84014),eO=t(30106),eW=t(81946),eV=t(70030);async function eq(e,a){let{chainId:t,timeout:r=0,...s}=a,l=e.getClient({chainId:t}),n=(0,eV.T)(l,eH.n,"waitForTransactionReceipt"),i=await n({...s,timeout:r});if("reverted"===i.status){let e=(0,eV.T)(l,eO.x,"getTransaction"),a=await e({hash:i.transactionHash}),t=(0,eV.T)(l,eW.T,"call"),r=await t({...a,data:a.input,gasPrice:"eip1559"!==a.type?a.gasPrice:void 0,maxFeePerGas:"eip1559"===a.type?a.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===a.type?a.maxPriorityFeePerGas:void 0});throw Error(r?.data?(0,ez.IQ)(`0x${r.data.substring(138)}`):"unknown reason")}return{...i,chainId:l.chain.id}}var eG=t(62108),eJ=t(43484),eY=t(18224),eZ=t(9428),eK=t(56680),eX=t(12509),e$=t(57340),eQ=t(6874),e0=t.n(eQ);let e1=(0,eK.A)(()=>{let[e,a]=(0,s.useState)(!0),[t,l]=(0,s.useState)(1),[n,i]=(0,s.useState)(""),[o,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(!1),[x,u]=(0,s.useState)([]),[p,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(!0),[y,f]=(0,s.useState)(!1),[k,v]=(0,s.useState)(null),[N,C]=(0,s.useState)(""),[A,E]=(0,s.useState)([]),[F,S]=(0,s.useState)(""),[T,M]=(0,s.useState)(!1),[D,_]=(0,s.useState)(!1),[B,U]=(0,s.useState)(!1),[I,L]=(0,s.useState)(void 0),[z,H]=(0,s.useState)(!1),[O,W]=(0,s.useState)(j.Y6[0]),[Y,Z]=(0,s.useState)(q.f6[j.Y6[0].id][0]),[K,X]=(0,s.useState)(void 0),$=()=>q.RL[O.id],{address:Q,isConnected:ee,chainId:et}=(0,R.F)(),er=(0,eR.U)(),{writeContractAsync:es,isPending:el,data:en}=(0,eL.x)(),{isLoading:ei,isSuccess:eo,isError:ed}=function(){var e,a;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{hash:r,query:s={}}=t,l=(0,eR.U)(t),n=(0,eY.i)({config:l}),i=function(e,a={}){return{async queryFn({queryKey:t}){let{hash:r,...s}=t[1];if(!r)throw Error("hash is required");return eq(e,{...s,onReplaced:a.onReplaced,hash:r})},queryKey:function(e={}){let{onReplaced:a,...t}=e;return["waitForTransactionReceipt",(0,eG.xO)(t)]}(a)}}(l,{...t,chainId:null!=(e=t.chainId)?e:n}),o=!!(r&&(null==(a=s.enabled)||a));return(0,eJ.IT)({...s,...i,enabled:o})}({hash:en}),[ec,em]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{en?X(en):ec&&X(ec)},[en,ec]);let ex=D||B||el||ei,[eu,ep]=(0,s.useState)(void 0),{data:eh,refetch:eg}=function(){var e,a,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{abi:s,address:l,functionName:n,query:i={}}=r,o=r.code,d=(0,eR.U)(r),c=(0,eY.i)({config:d}),m=function(e,a={}){return{async queryFn({queryKey:t}){let r=a.abi;if(!r)throw Error("abi is required");let{functionName:s,scopeKey:l,...n}=t[1],i=(()=>{let e=t[1];if(e.address)return{address:e.address};if(e.code)return{code:e.code};throw Error("address or code is required")})();if(!s)throw Error("functionName is required");return(0,eZ.J)(e,{abi:r,functionName:s,args:n.args,...i,...n})},queryKey:function(e={}){let{abi:a,...t}=e;return["readContract",(0,eG.xO)(t)]}(a)}}(d,{...r,chainId:null!=(e=r.chainId)?e:c}),x=!!((l||o)&&s&&n&&(null==(a=i.enabled)||a));return(0,eJ.IT)({...i,...m,enabled:x,structuralSharing:null!=(t=i.structuralSharing)?t:eG.I_})}({address:(null==Y?void 0:Y.address)!==j.Fm?null==Y?void 0:Y.address:void 0,abi:eI.xw,functionName:"allowance",args:[Q,$()],chainId:null==O?void 0:O.id,query:{enabled:ee&&!!Y&&!!Q&&(null==Y?void 0:Y.address)!==j.Fm&&!!$()&&(null==O?void 0:O.id)!==50002}}),eb=(null==O?void 0:O.id)===50002?eu:eh,ef=async()=>{if((null==O?void 0:O.id)===50002){if(ee&&(null==Y?void 0:Y.address)!==j.Fm&&Q&&window.ethereum)try{let e=new G.k(window.ethereum),a=new J.NZ(Y.address,eI.xw,e),t=await a.allowance(Q,$());ep(BigInt(t.toString()))}catch(e){console.error("Error fetching allowance with ethers:",e)}}else eg()};(0,s.useEffect)(()=>{ek(),(async()=>{try{let e=localStorage.getItem("user");if(e){let{company:a}=JSON.parse(e);C(a)}}catch(e){console.error("Failed to fetch company info:",e)}})()},[]),(0,s.useEffect)(()=>{if(et){let a=j.Y6.find(e=>e.id===et);if(a){var e;W(a),(null==(e=q.f6[a.id])?void 0:e.length)>0&&Z((n?q.f6[a.id].find(e=>e.symbol===n):void 0)||q.f6[a.id][0])}}},[et,n]),(0,s.useEffect)(()=>{if(n&&O){let e=(q.f6[O.id]||[]).find(e=>e.symbol===n);e&&Z(e)}},[n,O]),(0,s.useEffect)(()=>{if((null==O?void 0:O.id)===50002&&K&&!B){let e=async()=>{try{if(!window.ethereum)return;let a=new G.k(window.ethereum),t=await a.getTransactionReceipt(K);if(t&&1===t.status){A.length,setTimeout(()=>{E([]),setTimeout(()=>{H(!1),L(void 0),S(""),em(void 0)},5e3)},2e3);return}if(t&&0===t.status){S("Transaction reverted on blockchain"),U(!1);return}setTimeout(e,3e3)}catch(e){console.error("Error checking Pharos transaction:",e)}};e()}},[null==O?void 0:O.id,K,B,A.length]),(0,s.useEffect)(()=>{let e=null;return F&&(e=setTimeout(()=>{S("")},6e3)),()=>{e&&clearTimeout(e)}},[F]);let ek=async()=>{try{b(!0);let e=await ey.U.getAllEmployees();if("success"==e.status)u(e.employees||[]);else throw Error(e.message||"Failed to fetch employees due to API error.")}catch(r){var e,a;console.error("Failed to fetch employees:",r);let t=(null==r||null==(a=r.response)||null==(e=a.data)?void 0:e.message)||(null==r?void 0:r.message)||"An unknown error occurred";eB.oR.error("Failed to load employees: ".concat(t))}finally{b(!1)}},ew=e=>(parseFloat(e)*t).toFixed(6),ev=()=>x.filter(e=>A.includes(e.wallet)).reduce((e,a)=>e+parseFloat(a.salary),0),ej=()=>{let e=x.filter(e=>A.includes(e.wallet));return{recipients:e.map(e=>e.wallet),amounts:e.map(e=>{let a=ew(e.salary);return(0,V.XS)(a,Y.decimals)})}};(0,s.useEffect)(()=>{(async()=>{if((null==O?void 0:O.id)===50002&&ee&&(null==Y?void 0:Y.address)!==j.Fm&&Q&&window.ethereum)try{let e=new G.k(window.ethereum),a=new J.NZ(Y.address,eI.xw,e),t=await a.allowance(Q,$());ep(BigInt(t.toString()))}catch(e){console.error("Error fetching allowance with ethers:",e),ep(void 0)}})()},[null==O?void 0:O.id,Q,Y,ee,$]),(0,s.useEffect)(()=>{if((null==Y?void 0:Y.address)!==j.Fm&&void 0!==eb&&A.length>0)try{let e=ev(),a=(0,V.XS)(ew(e.toString()),Y.decimals);M(eb<a)}catch(e){}else M(!1)},[eb,A,Y]),(0,s.useEffect)(()=>{ee&&Y&&Q&&(null==Y?void 0:Y.address)!==j.Fm&&ef()},[null==Y?void 0:Y.address,null==O?void 0:O.id,ef,ee,Q,Y]);let eC=A.length===x.length,eA=async(e,a,t,r)=>{U(!0),console.log("Sending final transaction...");try{if(Y.address===j.Fm){console.log("Sending native token transfer");let s=await es({address:e,abi:eU.H,functionName:"bulkTransfer",args:[j.Fm,a,t],value:r,gas:BigInt(4e5),chainId:O.id});X(s),await eE(s)}else{console.log("Sending ERC20 token transfer");let r=await es({address:e,abi:eU.H,functionName:"bulkTransfer",args:[Y.address,a,t],gas:BigInt(4e5),chainId:O.id});X(r),await eE(r)}console.log("Transaction sent successfully")}catch(e){throw console.error("Error in sendTransactionAfterApproval:",e),e}finally{U(!1)}},eE=async e=>{if(console.log("Logging payroll transaction with hash:",e),!e)return void console.error("Missing transaction hash");if(!N)return void console.error("Missing company name");try{let a=x.filter(e=>A.includes(e.wallet)),t=a.reduce((e,a)=>e+parseFloat(a.salary),0).toFixed(2),r=a.map(e=>({wallet:e.wallet,amount:e.salary})),s={company:N,employees:r,totalAmount:t,tokenSymbol:Y.symbol,transactionHash:e,chain:O.name},l=await w.U.addPayroll(s);"success"===l.status?(eB.oR.success("Payroll record saved successfully"),X(void 0),em(void 0),L(void 0)):eB.oR.error("Failed to save payroll record")}catch(e){console.error("Error logging payroll transaction:",e),eB.oR.error("Failed to save payroll record")}},eF=async()=>{if(S(""),H(!0),0===A.length)return void S("Please select at least one employee to pay");try{let e=$();if(!e)return void S("No transfer contract available for this network");let{recipients:a,amounts:t}=ej(),r=t.reduce((e,a)=>e+a,BigInt(0));if((null==O?void 0:O.id)===50002)try{let s=new G.k(window.ethereum),l=await s.getSigner();if(Y.address!==j.Fm&&T){_(!0);let a=new J.NZ(Y.address,eI.xw,l);try{let t=await a.approve(e,r,{gasLimit:4e5});L(t.hash);let l=await s.waitForTransaction(t.hash);if((null==l?void 0:l.status)!==1)throw Error("Approval transaction failed");_(!1),await ef()}catch(e){_(!1),S(e.message||"Approval failed");return}}let n=new J.NZ(e,eU.H,l);U(!0);try{let e=(Y.address===j.Fm?await n.bulkTransfer(j.Fm,a,t,{value:r,gasLimit:4e5}):await n.bulkTransfer(Y.address,a,t,{gasLimit:4e5})).hash;em(e),X(e),await eE(e)}catch(e){console.error("Ethers transaction error:",e),S(e.message||"Transaction failed")}finally{U(!1)}}catch(e){console.error("Ethers setup error:",e),U(!1),S(e.message||"Transaction failed")}else if(Y.address!==j.Fm&&T){_(!0);try{let s=await es({address:Y.address,abi:eI.xw,functionName:"approve",args:[e,r],chainId:O.id,gas:BigInt(4e5)});L(s);let l=await eq(er,{chainId:O.id,hash:s});if("success"!==l.status)throw Error("Approval transaction failed");_(!1),await eA(e,a,t,r),await eE(s)}catch(e){_(!1),S(e.message||"Approval failed");return}}else await eA(e,a,t,r),await eE(K)}catch(e){U(!1),S(e.message||"Transaction failed")}},eS=()=>{h(null),d(!0)},eT=async()=>{if(k)try{await ey.U.deleteEmployee(k),u(e=>e.filter(e=>e.wallet!==k)),eB.oR.success("Employee deleted successfully")}catch(r){var e,a;console.error("Failed to delete employee:",r);let t=(null==r||null==(a=r.response)||null==(e=a.data)?void 0:e.message)||(null==r?void 0:r.message)||"An unknown error occurred";eB.oR.error("Failed to delete employee: ".concat(t))}finally{f(!1),v(null)}},eP=async e=>{try{let a=await ey.U.addEmployee(e);if("success"===a.status){let e=a.message;u(a=>[...a,e]),d(!1),ek(),eB.oR.success("Employee added successfully")}else throw Error(a.message||"Failed to add employee due to API error.")}catch(r){var a,t;console.error("Failed to add employee:",r);let e=(null==r||null==(t=r.response)||null==(a=t.data)?void 0:a.message)||(null==r?void 0:r.message)||"An unknown error occurred";eB.oR.error("Failed to add employee: ".concat(e))}},eD=async(e,a)=>{try{let t=await ey.U.updateEmployee(e,a);if("success"===t.status){let a=t.data;u(t=>t.map(t=>t.wallet===e?{...t,...a}:t)),d(!1),h(null),eB.oR.success("Employee updated successfully"),ek()}else throw Error(t.message||"Failed to update employee due to API error.")}catch(a){var t,r;console.error("Failed to update employee:",a);let e=(null==a||null==(r=a.response)||null==(t=r.data)?void 0:t.message)||(null==a?void 0:a.message)||"An unknown error occurred";eB.oR.error("Failed to update employee: ".concat(e))}},ez=ex||eo||ed||!!F||!!I||!!K;return(0,r.jsxs)("div",{className:"relative h-screen w-screen dark:text-white text-black p-6 z-10",children:[(0,r.jsx)("div",{className:"absolute top-4 left-4",children:(0,r.jsx)(e0(),{href:"/",children:(0,r.jsx)(e$.A,{className:"text-black dark:hover:text-gray-200 hover:text-gray-800 dark:text-white",size:30})})}),(0,r.jsxs)("div",{className:"flex flex-col max-w-screen max-h-screen items-center m-10",children:[(0,r.jsx)(P,{onConfigurePayments:()=>a(!0),onAddEmployee:eS,onBulkUpload:()=>{m(!0)}}),(0,r.jsx)(eN,{exchangeRate:t,selectedTokenSymbol:n,employees:x,isConnected:ee,selectedEmployees:A,toggleEmployeeSelection:e=>{E(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},toggleAllEmployees:()=>{eC?E([]):E(x.map(e=>e.wallet))},allEmployeesSelected:eC,handleTransaction:eF,usdToToken:ew,isLoadingDerived:ex,needsApproval:T,isApproving:D,isSending:B,isWritePending:el,isTxLoading:ei,isTxSuccess:eo,isTxError:ed,txHash:K,txError:F,approvalTxHash:I,showPaymentStatus:z,hasTransactionActivity:ez,getExplorerUrl:e=>{var a,t;let r=null==(t=O.blockExplorers)||null==(a=t.default)?void 0:a.url;return r?"".concat(r,"/tx/").concat(e):"#"},selectedToken:Y,handleAddEmployeeClick:eS,handleEditEmployee:e=>{h(e),d(!0)},deleteEmployeeById:e=>{v(e),f(!0)},selectedChain:O,handleAutoClose:()=>{H(!1),L(void 0),S(""),em(void 0),X(void 0),E([])}}),(0,r.jsx)(ea,{isOpen:e,onClose:()=>a(!1),onExchangeRateUpdate:(e,a)=>{l(e),i(a)}}),(0,r.jsx)(e_,{isOpen:o,onClose:()=>{d(!1),h(null)},onAddEmployee:eP,onUpdateEmployee:eD,editEmployee:p,onUploadSuccess:()=>{ek(),m(!1)}}),(0,r.jsx)(eM,{isOpen:c,onClose:()=>m(!1),onUploadSuccess:()=>{ek(),m(!1)}}),y&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto dark:bg-black dark:text-white text-black backdrop-blur-sm flex items-center justify-center",children:(0,r.jsxs)("div",{className:"dark:bg-[#1A1F2E] rounded-lg p-6 w-full max-w-md mx-4 shadow-xl border border-gray-700 animate-fade-in",children:[(0,r.jsx)("h3",{className:"text-xl font-medium dark:text-white mb-4",children:"Confirm Deletion"}),(0,r.jsx)("p",{className:"dark:text-gray-300 mb-6",children:"Are you sure you want to delete this employee? This action cannot be undone."}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{f(!1),v(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white transition-colors duration-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:eT,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-200",children:"Delete"})]})]})})]})]})},(0,r.jsx)(eX.A,{}))},53999:(e,a,t)=>{"use strict";t.d(a,{L:()=>n,cn:()=>l});var r=t(52596),s=t(39688);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}function n(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e?e.length<=a+t?e:"".concat(e.slice(0,a),"...").concat(e.slice(-t)):""}},56680:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var r=t(95155),s=t(12115);let l=function(e,a){return function(t){let[l,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if("complete"===document.readyState)n(!0);else{let e=()=>n(!0);return window.addEventListener("load",e),()=>window.removeEventListener("load",e)}},[]),l?(0,r.jsx)(e,{...t}):a}}},75641:(e,a,t)=>{"use strict";t.d(a,{F:()=>y});var r=t(15933),s=t(95155),l=t(32942),n=t(55955),i=t(55615),o=t(12115),d=t(53999),c=t(83816),m=t(67558),x=t(43264);let u=e=>{let{animationSpeed:a=.4,opacities:t=[.3,.3,.3,.5,.5,.5,.8,.8,.8,1],colors:r=[[0,255,255]],containerClassName:l,dotSize:n,showGradient:i=!0}=e;return(0,s.jsxs)("div",{className:(0,d.cn)("h-full relative bg-white w-full",l),children:[(0,s.jsx)("div",{className:"h-full w-full",children:(0,s.jsx)(p,{colors:null!=r?r:[[0,255,255]],dotSize:null!=n?n:3,opacities:null!=t?t:[.3,.3,.3,.5,.5,.5,.8,.8,.8,1],shader:"\n              float animation_speed_factor = ".concat(a.toFixed(1),";\n              float intro_offset = distance(u_resolution / 2.0 / u_total_size, st2) * 0.01 + (random(st2) * 0.15);\n              opacity *= step(intro_offset, u_time * animation_speed_factor);\n              opacity *= clamp((1.0 - step(intro_offset + 0.1, u_time * animation_speed_factor)) * 1.25, 1.0, 1.25);\n            "),center:["x","y"]})}),i&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 to-[84%]"})]})},p=e=>{let{colors:a=[[0,0,0]],opacities:t=[.04,.04,.04,.04,.04,.08,.08,.08,.08,.14],totalSize:r=4,dotSize:l=2,shader:n="",center:i=["x","y"]}=e,d=o.useMemo(()=>{let e=[a[0],a[0],a[0],a[0],a[0],a[0]];return 2===a.length?e=[a[0],a[0],a[0],a[1],a[1],a[1]]:3===a.length&&(e=[a[0],a[0],a[1],a[1],a[2],a[2]]),{u_colors:{value:e.map(e=>[e[0]/255,e[1]/255,e[2]/255]),type:"uniform3fv"},u_opacities:{value:t,type:"uniform1fv"},u_total_size:{value:r,type:"uniform1f"},u_dot_size:{value:l,type:"uniform1f"}}},[a,t,r,l]);return(0,s.jsx)(g,{source:"\n        precision mediump float;\n        in vec2 fragCoord;\n\n        uniform float u_time;\n        uniform float u_opacities[10];\n        uniform vec3 u_colors[6];\n        uniform float u_total_size;\n        uniform float u_dot_size;\n        uniform vec2 u_resolution;\n        out vec4 fragColor;\n        float PHI = 1.61803398874989484820459;\n        float random(vec2 xy) {\n            return fract(tan(distance(xy * PHI, xy) * 0.5) * xy.x);\n        }\n        float map(float value, float min1, float max1, float min2, float max2) {\n            return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n        }\n        void main() {\n            vec2 st = fragCoord.xy;\n            ".concat(i.includes("x")?"st.x -= abs(floor((mod(u_resolution.x, u_total_size) - u_dot_size) * 0.5));":"","\n            ").concat(i.includes("y")?"st.y -= abs(floor((mod(u_resolution.y, u_total_size) - u_dot_size) * 0.5));":"","\n      float opacity = step(0.0, st.x);\n      opacity *= step(0.0, st.y);\n\n      vec2 st2 = vec2(int(st.x / u_total_size), int(st.y / u_total_size));\n\n      float frequency = 5.0;\n      float show_offset = random(st2);\n      float rand = random(st2 * floor((u_time / frequency) + show_offset + frequency) + 1.0);\n      opacity *= u_opacities[int(rand * 10.0)];\n      opacity *= 1.0 - step(u_dot_size / u_total_size, fract(st.x / u_total_size));\n      opacity *= 1.0 - step(u_dot_size / u_total_size, fract(st.y / u_total_size));\n\n      vec3 color = u_colors[int(show_offset * 6.0)];\n\n      ").concat(n,"\n\n      fragColor = vec4(color, opacity);\n      fragColor.rgb *= fragColor.a;\n        }"),uniforms:d,maxFps:60})},h=e=>{let{source:a,uniforms:t,maxFps:r=60}=e,{size:l}=(0,c.A)(),n=(0,o.useRef)(null),i=0;(0,c.C)(e=>{let{clock:a}=e;if(!n.current)return;let t=a.getElapsedTime();t-i<1/r||(i=t,n.current.material.uniforms.u_time.value=t)});let d=()=>{let e={};for(let a in t){let r=t[a];switch(r.type){case"uniform1f":e[a]={value:r.value,type:"1f"};break;case"uniform3f":e[a]={value:new x.Pq0().fromArray(r.value),type:"3f"};break;case"uniform1fv":e[a]={value:r.value,type:"1fv"};break;case"uniform3fv":e[a]={value:r.value.map(e=>new x.Pq0().fromArray(e)),type:"3fv"};break;case"uniform2f":e[a]={value:new x.I9Y().fromArray(r.value),type:"2f"};break;default:console.error("Invalid uniform type for '".concat(a,"'."))}}return e.u_time={value:0,type:"1f"},e.u_resolution={value:new x.I9Y(2*l.width,2*l.height)},e},m=(0,o.useMemo)(()=>new x.BKk({vertexShader:"\n      precision mediump float;\n      in vec2 coordinates;\n      uniform vec2 u_resolution;\n      out vec2 fragCoord;\n      void main(){\n        float x = position.x;\n        float y = position.y;\n        gl_Position = vec4(x, y, 0.0, 1.0);\n        fragCoord = (position.xy + vec2(1.0)) * 0.5 * u_resolution;\n        fragCoord.y = u_resolution.y - fragCoord.y;\n      }\n      ",fragmentShader:a,uniforms:d(),glslVersion:x.Wdf,blending:x.bCz,blendSrc:x.ie2,blendDst:x.qad}),[l.width,l.height,a]);return(0,s.jsxs)("mesh",{ref:n,children:[(0,s.jsx)("planeGeometry",{args:[2,2]}),(0,s.jsx)("primitive",{object:m,attach:"material"})]})},g=e=>{let{source:a,uniforms:t,maxFps:r=60}=e;return(0,s.jsx)(m.Hl,{className:"absolute inset-0  h-full w-full",children:(0,s.jsx)(h,{source:a,uniforms:t,maxFps:r})})};function b(){let e=(0,r._)(["\n            radial-gradient(\n              ","px circle at ","px ","px,\n              white,\n              transparent 80%\n            )\n          "]);return b=function(){return e},e}let y=e=>{let{children:a,radius:t=350,color:r="#262626",className:c,...m}=e,x=(0,l.d)(0),p=(0,l.d)(0),[h,g]=(0,o.useState)(!1);return(0,s.jsxs)("div",{className:(0,d.cn)("group/spotlight p-10 rounded-md relative bg-white dark:border dark:bg-black dark:border-neutral-900",c),onMouseMove:function(e){let{currentTarget:a,clientX:t,clientY:r}=e,{left:s,top:l}=a.getBoundingClientRect();x.set(t-s),p.set(r-l)},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),...m,children:[(0,s.jsx)(n.P.div,{className:"pointer-events-none absolute z-0 -inset-px rounded-md opacity-0 transition duration-300 group-hover/spotlight:opacity-100",style:{backgroundColor:r,maskImage:(0,i.E)(b(),t,x,p)},children:h&&(0,s.jsx)(u,{animationSpeed:5,containerClassName:"bg-transparent absolute inset-0 pointer-events-none",colors:[[59,130,246],[139,92,246]],dotSize:3})}),a]})}},81284:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},82714:(e,a,t)=>{"use strict";t.d(a,{J:()=>i});var r=t(95155),s=t(12115),l=t(87073),n=t(53999);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.b,{ref:a,className:(0,n.cn)("text-sm font-medium text-black dark:text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...s})});i.displayName=l.b.displayName},84356:(e,a,t)=>{"use strict";t.d(a,{Fm:()=>s,RL:()=>l,f6:()=>n});var r=t(21988);let s="0x0000000000000000000000000000000000000000",l={[r.rV.id]:"0x2c137aC6Bc804A9F798053347802F489F0025768",[r.D8.id]:"0x2c137aC6Bc804A9F798053347802F489F0025768",[r.Ks.id]:"0x2c137aC6Bc804A9F798053347802F489F0025768",[r.n1.id]:"0x2c137aC6Bc804A9F798053347802F489F0025768",[r.mZ.id]:"0xYourContractAddressOnAvalanche",[r.Rr.id]:"0xYourContractAddressOnOptimism",[r.ac.id]:"0x9571BcCA765f30FF221dfB976ab530Ba44bd85AE",[r.nM.id]:"0xA8Ef467c3242Aa4bb06e807E869137A410aa0D41",[r.cF.id]:"0x2c137aC6Bc804A9F798053347802F489F0025768"},n={[r.n1.id]:[{symbol:"MATIC",address:"0x0000000000000000000000000000000000001010",decimals:18,priceFeed:"0xAB594600376Ec9fD91F8e885dADF0CE036862dE0"},{symbol:"USDT.pos",address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",decimals:6,priceFeed:"0x0A6513e40db6EB1b165753AD52E80663aeA50545"},{symbol:"USDT",address:"0x9417669fBF23357D2774e9D421307bd5eA1006d2",decimals:6,priceFeed:"0x0A6513e40db6EB1b165753AD52E80663aeA50545"},{symbol:"USDC",address:"0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359",decimals:6,priceFeed:"0xfE4A8cc5b5B2366C1B58Bea3858e81843581b2F7"},{symbol:"USDC.e",address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",decimals:6,priceFeed:"0x5c3890e86f3E7Ed7F5390532De147953580f1605"}],[r.nM.id]:[{symbol:"MATIC",address:"0x0000000000000000000000000000000000001010",decimals:18,priceFeed:"0x001382149eBa3441043c1c66972b4772963f5D43"},{symbol:"USDT",address:"0x2655783ed6c47Fd312D1204712A804821899E1A3",decimals:6,priceFeed:"0x3aC23DcB4eCfcBd24579e1f34542524d0E4eDeA8"},{symbol:"USDC",address:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",decimals:6,priceFeed:"0x1b8739bB4CdF0089d07097A9Ae5Bd274b29C6F16"}],[r.D8.id]:[{symbol:"ETH",address:s,decimals:18,priceFeed:"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612"},{symbol:"WETH",address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",decimals:18,priceFeed:"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612"},{symbol:"USDT",address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",decimals:6,priceFeed:"0x3f3f5dF88dC9F13eac63DF89EC16ef6e7E25DdE7"},{symbol:"USDC",address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",decimals:6,priceFeed:"0x50834F3163758fcC1Df9973b6e91f0F0F0434aD3"},{symbol:"USDC.e",address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",decimals:6,priceFeed:"0x88AC7Bca36567525A866138F03a6F6844868E0Bc"}],[r.rV.id]:[{symbol:"BNB",address:s,decimals:18,priceFeed:"0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE"},{symbol:"USDT",address:"0x55d398326f99059fF775485246999027B3197955",decimals:18,priceFeed:"0xB97Ad0E74fa7d920791E90258A6E2085088b4320"},{symbol:"USDC",address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",decimals:18,priceFeed:"0x51597f405303C4377E36123cBc172b13269EA163"}],[r.Ks.id]:[{symbol:"EDU",address:s,decimals:18},{symbol:"USDT",address:"0x7277Cc818e3F3FfBb169c6Da9CC77Fc2d2a34895",decimals:6},{symbol:"USDC",address:"0x836d275563bAb5E93Fd6Ca62a95dB7065Da94342",decimals:6}],[r.mZ.id]:[{symbol:"AVAX",address:s,decimals:18,priceFeed:"0x0A77230d17318075983913bC2145DB16C7366156"},{symbol:"USDC",address:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",decimals:6,priceFeed:"0xF096872672F44d6EBA71458D74fe67F9a77a23B9"},{symbol:"USDC.e",address:"0xA7D7079b0FEaD91F3e65f86E8915Cb59c1a4C664",decimals:6},{symbol:"USDT",address:"0x9702230A8Ea53601f5cD2dc00fDBc13d4dF4A8c7",decimals:6,priceFeed:"0xEBE676ee90Fe1112671f19b6B7459bC678B67e8a"},{symbol:"USDT.e",address:"0xc7198437980c041c805A1EDcbA50c1Ce5db95118",decimals:6},{symbol:"DAI.e",address:"0xd586E7F844cEa2F87f50152665BCbc2C279D8d70",decimals:18}],[r.Rr.id]:[{symbol:"OP",address:"0x4200000000000000000000000000000000000042",decimals:18,priceFeed:"0x0D276FC14719f9292D5C1eA2198673d1f4269246"},{symbol:"ETH",address:s,decimals:6,priceFeed:"0x13e3Ee699D1909E989722E753853AE30b17e08c5"},{symbol:"USDC",address:"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",decimals:6,priceFeed:"0x16a9FA2FDa030272Ce99B29CF780dFA30361E0f3"},{symbol:"USDT",address:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",decimals:6,priceFeed:"0xECef79E109e997bCA29c1c0897ec9d7b03647F5E"}],[r.ac.id]:[{symbol:"tBNB",address:s,decimals:18,priceFeed:"0x2514895c72f50D8bd4B4F9b1110F0D6bD2c97526"},{symbol:"USDT",address:"0x337610d27c682e347c9cd60bd4b3b107c9d34ddd",decimals:18,priceFeed:"0xEca2605f0BCF2BA5966372C99837b1F182d3D620"},{symbol:"USDC",address:"0x0a385f86059e0b2a048171d78afd1f38558121f3",decimals:18,priceFeed:"0x90c069C4538adAc136E051052E14c1cD799C41B7"}],[r.cF.id]:[{symbol:"ETH",address:s,decimals:18,priceFeed:""},{symbol:"ZOLLPTT",address:"0xcB6A2D2185C9c01739C9AD9110424146934cfAe7",decimals:18,priceFeed:""},{symbol:"WETH",address:"0xc4CebF58836707611439e23996f4FA4165Ea6A28",decimals:18,priceFeed:""},{symbol:"USDC",address:"0x2E6D0aA9ca3348870c7cbbC28BF6ea90A3C1fE36",decimals:6,priceFeed:""}]}},84470:(e,a,t)=>{Promise.resolve().then(t.bind(t,52013))},89852:(e,a,t)=>{"use strict";t.d(a,{p:()=>m});var r=t(15933),s=t(95155),l=t(12115),n=t(53999),i=t(32942),o=t(55955),d=t(55615);function c(){let e=(0,r._)(["\n        radial-gradient(\n          "," circle at ","px ","px,\n          #3b82f6,\n          transparent 80%\n        )\n      "]);return c=function(){return e},e}let m=l.forwardRef((e,a)=>{let{className:t,type:r,...m}=e,[x,u]=l.useState(!1),p=(0,i.d)(0),h=(0,i.d)(0);return(0,s.jsx)(o.P.div,{style:{background:(0,d.E)(c(),x?"100px":"0px",p,h)},onMouseMove:function(e){let{currentTarget:a,clientX:t,clientY:r}=e,{left:s,top:l}=a.getBoundingClientRect();p.set(t-s),h.set(r-l)},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"group/input rounded-lg p-[2px] transition duration-300",children:(0,s.jsx)("input",{type:r,className:(0,n.cn)("shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600",t),ref:a,...m})})});m.displayName="Input"},99708:(e,a,t)=>{"use strict";t.d(a,{DX:()=>i,TL:()=>n});var r=t(12115),s=t(6101),l=t(95155);function n(e){let a=function(e){let a=r.forwardRef((e,a)=>{let{children:t,...l}=e;if(r.isValidElement(t)){var n;let e,i,o=(n=t,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,a){let t={...a};for(let r in a){let s=e[r],l=a[r];/^on[A-Z]/.test(r)?s&&l?t[r]=(...e)=>{l(...e),s(...e)}:s&&(t[r]=s):"style"===r?t[r]={...s,...l}:"className"===r&&(t[r]=[s,l].filter(Boolean).join(" "))}return{...e,...t}}(l,t.props);return t.type!==r.Fragment&&(d.ref=a?(0,s.t)(a,o):o),r.cloneElement(t,d)}return r.Children.count(t)>1?r.Children.only(null):null});return a.displayName=`${e}.SlotClone`,a}(e),t=r.forwardRef((e,t)=>{let{children:s,...n}=e,i=r.Children.toArray(s),o=i.find(d);if(o){let e=o.props.children,s=i.map(a=>a!==o?a:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,l.jsx)(a,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,l.jsx)(a,{...n,ref:t,children:s})});return t.displayName=`${e}.Slot`,t}var i=n("Slot"),o=Symbol("radix.slottable");function d(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}}},e=>{var a=a=>e(e.s=a);e.O(0,[8451,844,1831,9367,8413,2545,4277,4134,3464,2497,8098,1154,5955,8021,2901,5530,9546,197,5526,3791,5196,8441,1684,7358],()=>a(84470)),_N_E=e.O()}]);