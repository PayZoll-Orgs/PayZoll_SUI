"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{14891:(e,t,a)=>{a.d(t,{A:()=>l,h:()=>o});var r=a(95155),s=a(12115),n=a(37030);let c=(0,s.createContext)({currentNetwork:n.cZ,setNetwork:()=>{}}),l=e=>{let{children:t}=e,[a,l]=(0,s.useState)(n.cZ);return(0,s.useEffect)(()=>{let e=localStorage.getItem("payzoll-network");e&&Object.keys(n.bi).includes(e)&&l(e)},[]),(0,r.jsx)(c.Provider,{value:{currentNetwork:a,setNetwork:e=>{l(e),localStorage.setItem("payzoll-network",e)}},children:t})},o=()=>(0,s.useContext)(c)},35372:(e,t,a)=>{a.d(t,{A:()=>j,g:()=>w});var r=a(95155),s=a(12115),n=a(10671),c=a(60760),l=a(39785),o=a(66474),d=a(54416),i=a(85339),x=a(33786),m=a(40646),b=a(24357),u=a(81586),h=a(93550),f=a(34869),g=a(34835),p=a(92897),k=a(14891),y=a(37030);let w=e=>{var t,a;let{selectedToken:w,onTokenChange:j}=e,{currentNetwork:N,setNetwork:v}=(0,k.h)(),[C,S]=(0,s.useState)(!1),{currentWallet:A,connectionStatus:D}=(0,p._Y)(),E=(0,p.YL)(),T=(0,p.Sb)(),U=(0,p.oV)(),{mutate:P}=(0,p.VN)(),{mutate:I}=(0,p.Xk)(),{mutate:G}=(0,p.hX)(),[O,H]=(0,s.useState)(!1),[R,_]=(0,s.useState)({}),[W,L]=(0,s.useState)("accounts"),B=(0,p.eW)(),[F,z]=(0,s.useState)(y.at[N]||[]),K=(0,s.useRef)(null),M="connected"===D&&E;(0,s.useEffect)(()=>{z(y.at[N]||[]),E&&C&&(_({}),Z())},[N]);let V=e=>{v(e)},Y=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"";(0,s.useEffect)(()=>{let e=e=>{K.current&&!K.current.contains(e.target)&&S(!1)};return C&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[C]),(0,s.useEffect)(()=>{E&&C&&Z()},[E,C,N,F]);let Z=async()=>{if(E)try{let e={};for(let t of F)try{let a=await B.getBalance({owner:E.address,coinType:t.address}),r=a?(Number(a.totalBalance)/Math.pow(10,t.decimals)).toFixed(6):"0.000000";e[t.symbol]=r}catch(a){console.error("Error fetching balance for ".concat(t.symbol,":"),a),e[t.symbol]="Error"}_(e)}catch(e){console.error("Error fetching balances:",e)}},X=e=>{j&&j(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>S(!0),className:"relative py-2 px-3 lg:py-2.5 lg:px-4 rounded-lg dark:bg-transparent opacity-90 backdrop-blur-3xl border border-white/20 dark:border-white/10  shadow-sm hover:bg-white/30 dark:hover:bg-black/30 transition-all duration-300 flex items-center justify-center gap-2",title:"Wallet",children:[M&&(0,r.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-400 absolute left-1.5 top-1.5 animate-pulse"}),(0,r.jsx)(l.A,{className:"h-4 w-4 lg:h-5 lg:w-5"}),(0,r.jsx)("span",{className:"font-medium text-sm whitespace-nowrap",children:M?Y(E.address):"Connect Wallet"}),M&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat((e=>{switch(e){case"mainnet":return"text-green-600 dark:text-green-400";case"testnet":return"text-amber-600 dark:text-amber-400";default:return"text-gray-600 dark:text-gray-400"}})(N),"  dark:bg-transparent opacity-90 backdrop-blur-3xl"),children:null==(t=y.bi[N])?void 0:t.name.split(" ")[1]}),(0,r.jsx)(o.A,{className:"h-4 w-4"})]})]}),(0,r.jsx)(c.N,{children:C&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4  dark:bg-transparent opacity-90 backdrop-blur-3xl overflow-y-auto",children:(0,r.jsxs)(n.P.div,{ref:K,className:"w-full max-w-xl  dark:bg-transparent opacity-90 backdrop-blur-3xl rounded-2xl shadow-lg border border-white/20 dark:border-white/10  overflow-hidden transition-all duration-200",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:[(0,r.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-100/50 dark:border-gray-800/50",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:M?"Wallet Connected":"Connect Wallet"}),(0,r.jsx)(n.P.button,{whileTap:{scale:.9},onClick:()=>S(!1),className:"p-1.5 rounded-full  dark:bg-transparent opacity-90 backdrop-blur-3xl hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors",children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})]}),M?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-black/5 dark:bg-white/10 flex items-center justify-center",children:(null==A||null==(a=A.name)?void 0:a.charAt(0))||(0,r.jsx)(l.A,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium",children:(null==A?void 0:A.name)||"Connected Wallet"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,r.jsx)("span",{className:"text-sm font-mono text-gray-700 dark:text-gray-300",children:Y(E.address)}),(0,r.jsx)(n.P.button,{whileTap:{scale:.9},onClick:()=>{E&&(navigator.clipboard.writeText(E.address),H(!0),setTimeout(()=>H(!1),2e3))},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:O?(0,r.jsx)(m.A,{className:"h-4 w-4 text-green-500"}):(0,r.jsx)(b.A,{className:"h-4 w-4"})})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:"text-xs py-1 px-2 rounded-full bg-black/5 dark:bg-white/10 font-medium",children:"Connected"})})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("a",{href:"https://suiscan.xyz/mainnet/address/".concat(E.address),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 flex items-center gap-1 hover:underline",children:["View on Explorer ",(0,r.jsx)(x.A,{className:"h-3 w-3"})]})})]}),(0,r.jsxs)("div",{className:"flex border-b border-gray-200/50 dark:border-gray-800/50",children:[(0,r.jsxs)("button",{onClick:()=>L("accounts"),className:"flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2\n                                                ".concat("accounts"===W?"text-blue-600 dark:text-blue-400 border-b border-blue-600 dark:border-blue-400 bg-black/5 dark:bg-white/5":"text-gray-600 dark:text-gray-400 hover:bg-black/5 dark:hover:bg-white/5"," transition-colors"),children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),"Accounts"]}),(0,r.jsxs)("button",{onClick:()=>L("tokens"),className:"flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2\n                                                ".concat("tokens"===W?"text-blue-600 dark:text-blue-400 border-b border-blue-600 dark:border-blue-400 bg-black/5 dark:bg-white/5":"text-gray-600 dark:text-gray-400 hover:bg-black/5 dark:hover:bg-white/5"," transition-colors"),children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),"Tokens"]}),(0,r.jsxs)("button",{onClick:()=>L("networks"),className:"flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2\n                                                ".concat("networks"===W?"text-blue-600 dark:text-blue-400 border-b border-blue-600 dark:border-blue-400 bg-black/5 dark:bg-white/5":"text-gray-600 dark:text-gray-400 hover:bg-black/5 dark:hover:bg-white/5"," transition-colors"),children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),"Networks"]})]}),(0,r.jsxs)("div",{className:"p-4",children:["accounts"===W&&(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Available Accounts"}),0===U.length?(0,r.jsx)("div",{className:"text-center p-4",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No accounts found"})}):(0,r.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-1",children:U.map(e=>(0,r.jsxs)(n.P.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>{e.address!==E.address&&G({account:e},{onSuccess:()=>console.log("Switched to ".concat(e.address))})},className:"w-full py-3 px-4 rounded-xl flex items-center gap-4\n                                                                    ".concat(e.address===E.address?"bg-black/5 dark:bg-white/5":"hover:bg-black/5 dark:hover:bg-white/5"),children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-black/10 dark:bg-white/10 flex items-center justify-center",children:e.address.substring(0,1)}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[(0,r.jsxs)("span",{className:"text-sm font-medium",children:["Account ",U.findIndex(t=>t.address===e.address)+1]}),(0,r.jsx)("div",{className:"font-mono text-xs text-gray-500 dark:text-gray-400 mt-1",children:Y(e.address)})]}),e.address===E.address&&(0,r.jsx)(m.A,{className:"h-5 w-5 text-blue-500"})]},e.address))})]}),"tokens"===W&&(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[(0,r.jsxs)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Token Balances (",N,")"]}),(0,r.jsx)("div",{className:"space-y-2",children:0===Object.keys(R).length?(0,r.jsxs)("div",{className:"text-center p-4",children:[(0,r.jsx)(n.P.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"mx-auto w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:"Loading balances..."})]}):Object.entries(R).map(e=>{var t;let[a,s]=e,n=F.find(e=>e.symbol===a),c=(null==w?void 0:w.symbol)===a;return(0,r.jsx)("div",{onClick:()=>n&&X(n),className:"p-3 rounded-xl border backdrop-blur-sm\n                                                                        ".concat(c?"bg-black/5 dark:bg-white/5 border-blue-200 dark:border-blue-900":"bg-white/30 dark:bg-black/30 border-white/20 dark:border-white/10"," \n                                                                        cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-all duration-200"),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-black/10 dark:bg-white/10 flex items-center justify-center",children:(0,r.jsx)("span",{className:"font-medium",children:a.charAt(0)})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-base",children:a}),(0,r.jsx)("span",{className:"font-mono font-medium",children:s})]}),(0,r.jsxs)("div",{className:"mt-0.5 flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[null==(t=F.find(e=>e.symbol===a))?void 0:t.address.substring(0,15),"..."]}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Error"===s?"Failed to load":0===parseFloat(s)?"No balance":"Available"})]})]}),c&&(0,r.jsx)(m.A,{className:"h-4 w-4 text-blue-500"})]})},a)})})]}),"networks"===W&&(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Network"}),(0,r.jsx)("div",{className:"space-y-2",children:Object.entries(y.bi).map(e=>{let[t,a]=e;return(0,r.jsxs)(n.P.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>V(t),className:"w-full py-3 px-4 rounded-xl flex items-center gap-4\n                                                                ".concat(t===N?"bg-black/5 dark:bg-white/5":"hover:bg-black/5 dark:hover:bg-white/5"),children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full\n                                                                ".concat("mainnet"===t?"bg-green-500":"testnet"===t?"bg-amber-500":"bg-purple-500")}),(0,r.jsx)("div",{className:"flex-1 text-left",children:(0,r.jsx)("span",{className:"text-base font-medium",children:a.name})}),t===N&&(0,r.jsx)(m.A,{className:"h-4 w-4 text-blue-500"})]},t)})})]})]}),(0,r.jsx)("div",{className:"px-6 py-4 border-t border-gray-100/50 dark:border-gray-800/50",children:(0,r.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{I(),S(!1)},className:"w-full py-2.5 rounded-lg bg-black/5 dark:bg-white/5 text-gray-700 dark:text-gray-300 font-medium hover:bg-red-100/50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),"Disconnect Wallet"]})})]}):(0,r.jsxs)("div",{className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 rounded-full bg-black/5 dark:bg-white/5  flex items-center justify-center mb-4",children:(0,r.jsx)(l.A,{className:"h-8 w-8"})}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Connect your wallet to access all features"})]}),(0,r.jsx)("div",{className:"space-y-2",children:0===T.length?(0,r.jsxs)("div",{className:"text-center p-4",children:[(0,r.jsx)(i.A,{className:"h-8 w-8 mx-auto text-amber-500 mb-2"}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"No wallets detected"}),(0,r.jsxs)("a",{href:"https://docs.sui.io/guides/developer/first-app/install",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 text-sm flex items-center gap-1 justify-center mt-2 hover:underline",children:["Get a wallet ",(0,r.jsx)(x.A,{className:"h-3 w-3"})]})]}):T.map(e=>(0,r.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{P({wallet:e},{onSuccess:()=>{console.log("connected"),L("accounts")}})},className:"w-full p-4 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-white/20 dark:border-white/10 shadow-sm hover:bg-white/70 dark:hover:bg-gray-800/70  transition-all duration-200 flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-black/5 dark:bg-white/10 flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"text-left flex-1",children:[(0,r.jsx)("span",{className:"font-medium text-base",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Connect to ",e.name]})]})]},e.name))})]})]})})})]})},j=w},37030:(e,t,a)=>{a.d(t,{at:()=>l,bi:()=>s,cZ:()=>n,eN:()=>o});var r=a(71621);let s={mainnet:{id:"mainnet",name:"Sui Mainnet",url:(0,r.T)("mainnet")},testnet:{id:"testnet",name:"Sui Testnet",url:(0,r.T)("testnet")},devnet:{id:"devnet",name:"Sui Devnet",url:(0,r.T)("devnet")}},n="testnet",c="0x2::sui::SUI",l={mainnet:[{symbol:"SUI",address:c,decimals:9},{symbol:"USDC",address:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::usdc::USDC",decimals:6},{symbol:"USDT",address:"0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::usdt::USDT",decimals:6}],testnet:[{symbol:"SUI",address:c,decimals:9},{symbol:"USDC",address:"0xa1ec7fc00a6f40db9693ad1415d0c193ad3906494428cf252621037bd7117e29::usdc::USDC",decimals:6},{symbol:"USDT",address:"0x700de8dea1aac1de7531e9d20fc2568b12d74369f91b7fad3abc1c4f40396e52::usdt::USDT",decimals:6}]},o={mainnet:"0x<mainnet_package_id>",testnet:"0xfbd9c32958b04d778001a21c2b512b8688e635120f03b22cf3ff6bada43f477c"}},53999:(e,t,a)=>{a.d(t,{L:()=>c,cn:()=>n});var r=a(52596),s=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e?e.length<=t+a?e:"".concat(e.slice(0,t),"...").concat(e.slice(-a)):""}},60812:(e,t,a)=>{a.d(t,{E:()=>l});let r={BTC:"0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43",ETH:"0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace",SUI:"0x23d7315113f5b1d3ba7a83604c44b94d79f4fd69af77f804fc7f920a6dc65744",USDC:"0xeaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a",USDT:"0x2b89b9dc8fdf9f34709a5b106b472f0f39bb6ca9ce04b0fd7f2e971688e2e53b"},s={SUI:"sui",BTC:"bitcoin",USDC:"usd-coin",USDT:"tether",WETH:"weth",ETH:"ethereum"};async function n(e){try{let t=r[e];if(!t)return console.warn("No Pyth Network ID mapping found for ".concat(e)),null;let a=await fetch("https://hermes.pyth.network/v2/updates/price/latest?ids%5B%5D=".concat(t),{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!a.ok)return console.warn("Pyth Network API response not OK: ".concat(a.status)),null;let s=await a.json();if(!s.parsed||!s.parsed.length)return console.warn("No parsed data found for ".concat(e)),null;let n=s.parsed[0].price;if(!n)return console.warn("No price data found for ".concat(e)),null;let c=Number(n.price)*Math.pow(10,n.expo),l=1/c;return console.log("Pyth Network rate for ".concat(e,": ").concat(l," (1 USD = ").concat(l," ").concat(e,")")),l}catch(t){return console.error("Error fetching price from Pyth Network for ".concat(e,":"),t),null}}async function c(e){try{let t=s[e];if(!t)return console.warn("No CoinGecko ID mapping found for ".concat(e)),null;let a=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(t,"&vs_currencies=usd"),{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!a.ok)return console.warn("CoinGecko API response not OK: ".concat(a.status)),null;let r=await a.json();if(!r[t]||!r[t].usd)return console.warn("No price data found for ".concat(e," (").concat(t,")")),null;let n=1/r[t].usd;return console.log("CoinGecko rate for ".concat(e,": ").concat(n," (1 USD = ").concat(n," ").concat(e,")")),n}catch(t){return console.error("Error fetching price from CoinGecko for ".concat(e,":"),t),null}}async function l(e){try{if(e.includes("USD"))return console.log("\uD83E\uDE99 Using fixed 1:1 rate for stablecoin: ".concat(e)),1;console.log("\uD83D\uDD0D Attempting to fetch ".concat(e," price from Pyth Network..."));let t=await n(e);if(null!==t&&t>0)return console.log("✅ USING PYTH NETWORK PRICE for ".concat(e,": ").concat(t)),t;console.log("⚠️ Pyth Network failed, trying CoinGecko as fallback for ".concat(e,"..."));let a=await c(e);if(null!==a&&a>0)return console.log("✅ USING COINGECKO PRICE for ".concat(e,": ").concat(a)),a;console.warn("❌ ALL API SOURCES FAILED! Using hardcoded fallback rate for ".concat(e));let r={SUI:3,BTC:2e-5,ETH:5e-4}[e]||1;return console.log("\uD83D\uDD04 USING HARDCODED RATE for ".concat(e,": ").concat(r)),r}catch(e){return console.error("❌ ERROR in getExchangeRate:",e),1}}}}]);